{"version":3,"sources":["../node_modules/@ionic/core/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","firebase.ts","auth.ts","pages/LoginPage.tsx","models/Entry.ts","pages/HomePage.tsx","models/NoShowClient.ts","mbo-proxy-axios.ts","pages/SettingsPage.tsx","pages/EntryPage.tsx","pages/AddEntryPage.tsx","components/StackedAreaChart.tsx","reportCalculations.ts","pages/ReportPage.tsx","models/Reports.ts","pages/EmailEditorPage.tsx","models/CommunicationItem.ts","models/Assets.ts","AppTabs.tsx","pages/404Page.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","app","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","storage","AuthContext","React","createContext","loggedIn","useAuth","useContext","LoginPage","useState","email","setEmail","password","setPassword","loading","error","status","setStatus","handleLogin","a","signInWithEmailAndPassword","console","log","to","className","position","type","value","onIonChange","event","detail","color","expand","onClick","isOpen","toEntries","doc","data","HomePage","userId","entries","setEntries","billing","setBilling","disputes","setDisputes","useEffect","collection","limit","onSnapshot","docs","vertical","horizontal","routerLink","icon","fabIcon","fixed","d","key","_index_key","member_name","verdict","b","_ledger_id","toNoShowClient","timezones","mboProxyInstance","axios","create","baseURL","headers","SettingsPage","client_document_id","setClientDocumentId","no_show_client","setNoShowClient","alertState","setAlertState","showToast","setShowToast","showMboSessionTypesModal","setShowMboSessionTypesModal","showMboServiceModal","setShowMboServiceModal","showLocationPreferences","setShowLocationPreferences","showEmails","setShowEmails","updateServiceType","setUpdateServiceType","show_mbo_no_show_product_id_info","setShowMboNoShowProductIdInfo","show_no_show_forgive_frequency_info","setShowNoShowForgiveFrequencyInfo","show_no_show_forgive_min_info","setShowNoShowForgiveMinInfo","show_no_show_forgive_max_info","setShowNoShowForgiveMaxInfo","show_mbo_late_cancel_product_id_info","setMboLateCancelProductIdInfo","show_late_cancel_forgive_frequency_info","setShowLateCancelForgiveFrequencyInfo","show_late_cancel_forgive_min_info","setShowLateCancelForgiveMinInfo","show_late_cancel_forgive_max_info","setShowLateCancelForgiveMaxInfo","show_timezone_info","setShowTimezoneInfo","show_offense_to_billing_hold_days_info","setShowOffenseToBillingHoldDaysInfo","show_is_billing_info","setShowIsBillingInfo","show_will_send_comms_info","setShowWillSendCommsInfo","show_is_pre_launch_info","setShowIsPreLaunchInfo","show_class_black_list_info","setShowClassBlackListInfo","show_charge_non_members_info","setShowChargeNonMembersInfo","tz","setTz","billing_timezone","dispatch","payload","useReducer","state","action","word","number","uniqueService","x","filter","Id","length","push","sort","mboNameComparator","mbo_services","uniqueSessionTypes","mbo_session_types","mbo_no_show_product_id","mbo_no_show_product_name","Name","mbo_no_show_product_amount","Price","mbo_late_cancel_product_id","mbo_late_cancel_product_name","mbo_late_cancel_product_amount","no_show_forgive_frequency","toLowerCase","no_show_forgive_min","no_show_forgive_max","late_cancel_forgive_frequency","late_cancel_forgive_min","late_cancel_forgive_max","is_pre_launch","is_test","offense_to_billing_hold_days","locations","location","location_id","is_billing","class_black_list","find","item","session_type_id","class_session_id","session_type_name","class_session_name","location_name_alias","location_name_abbreviated","substring","toUpperCase","location_manager_name","will_send_comms","will_charge_non_members","subscription_status","mbo_site_id","openMboServiceUpdate","updateType","getMboServices","closeMboServiceUpdate","service","handleUpdate","processUpdate","entryRef","set","catch","get","response","getMboSesionTypes","saveIcon","onDidDismiss","message","duration","header","buttons","text","role","handler","slot","fill","closeIcon","class","replace","button","toFixed","tickIcon","session_type","handleClassBlackListUpdate","addIcon","emailIcon","index","location_name","placeholder","size","size-md","infoIcon","editIcon","removeIcon","interface","selectedText","t","signOut","EntryPage","useParams","history","useHistory","handleDelete","delete","goBack","defaultHref","deleteIcon","AddEntryPage","date","setDate","title","setTitle","description","setDescription","handleSave","entriesRef","entryData","add","formatDateToMonth","isoString","dayjs","format","formatLegendText","s","split","join","txt","charAt","substr","toPercent","decimal","renderTooltipContent","label","entry","name","StackedAreaChart","dataKey1","fill1","stroke1","dataKey2","fill2","stroke2","dataKey3","fill3","stroke3","tickArray","i","height","width","margin","top","right","left","bottom","strokeDasharray","dataKey","tickFormatter","ticks","content","formatter","stackId","stroke","proportionalDifference","n_1","n","month_completed","ReportPage","showPerformanceModal","setShowPerformanceModal","showPerformanceDetailsModal","setShowPerformanceDetailsModal","show_performance_metric_info","setShowPerformanceMeticInfo","show_table_info","setShowTableInfo","performanceData","setPerformanceData","performanceDetailsData","setPerformanceDetailsData","reportData","setReportData","Date","getDate","daysInMonth","getMonthCompleted","toReport","snapshot","forEach","renderTableRow","prefix","table_data","renderTableRowPercentage","openPerformanceModal","performanceType","closePerformanceModal","closePerformanceDetailsModal","side","classIcon","instructorIcon","performance_comparitor","medalIcon","total_classes","average_class_size","percent_capacity_attendance","percent_late_cancel","percent_no_show","total_visited","total_booked","signed_in","unique_visits","late_cancel","no_show","helpIcon","src","alt","visualisation_data","toISOString","updateDate","saveAsset","blobUrl","bucketId","newAsset","assets","pathName","fullPath","assetRef","ref","fetch","blob","put","getDownloadURL","url","downloadUrl","found","images","idx","media","dbAssetRef","EmailEditorPage","idName","setBucketId","showHelpText","setShowHelpText","showImageInfo","setShowImageInfo","showMediaInfo","setShowMediaInfo","showTextFieldInfo","setShowTextFieldInfo","showDisputeInfo","setShowDisputeInfo","initNewAsset","showEmailToast","setShowEmailToast","showMediaToast","setShowMediaToast","mediaToastMessage","setMediaToastMessage","pictureUrl","setPictureUrl","tmpAssetUrl","setTmpAssetUrl","showAddMedia","setShowAddMedia","showAddImage","setShowAddImage","isNewAssetValid","setIsNewAssetValid","showMediaUpdateModal","setShowMediaUpdateModal","showImageUpdateModal","setShowImageUpdateModal","showInformationText","setShowInformationText","communicationItem","setCommunicationItem","setNewAsset","setAssets","fileInputRef","useRef","startsWith","URL","revokeObjectURL","toCommunicationItem","toAssets","handleFileChange","target","files","file","picUrl","createObjectURL","handleSaveAsset","handleDeleteAsset","deleteAsset","tmp","filtered","handleAddAssetCancel","commsRef","size-lg","hidden","accept","onChange","style","cursor","current","click","disabled","videoIcon","documentIcon","initialValue","body","init","plugins","toolbar","menubar","menu","custom","items","other","setup","editor","ui","registry","addMenuItem","onAction","insertContent","addNestedMenuItem","getSubmenuItems","outputFormat","onEditorChange","emailContent","AppTabs","exact","path","tab","href","homeIcon","reportIcon","settingsIcon","NotFoundPage","App","authInit","setAuthInit","firsebaseAuth","onAuthStateChanged","firebaseUser","uid","useAuthInit","Provider","Boolean","window","hostname","match","SplashScreen","Plugins","ReactDOM","render","document","getElementById","hide","navigator","serviceWorker","ready","registration","unregister"],"mappings":"2IAAA,IAAIA,EAAM,CACT,8BAA+B,CAC9B,IACA,GAED,uBAAwB,CACvB,IACA,GAED,uBAAwB,CACvB,IACA,GAED,0BAA2B,CAC1B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,sBAAuB,CACtB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,qBAAsB,CACrB,IACA,IAED,mCAAoC,CACnC,IACA,IAED,uBAAwB,CACvB,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,uBAAwB,CACvB,IACA,GAED,uBAAwB,CACvB,IACA,IAED,yBAA0B,CACzB,IACA,GAED,8BAA+B,CAC9B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,sBAAuB,CACtB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,gCAAiC,CAChC,IACA,KAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAMU,EAAKD,EAAI,GAC7B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BACT,KAAQ,OACR,QAAW,EACX,OAAS,EACT,KAAQ,sBACR,IAAO,CACR,kBACA,uBACA,qBACA,kBACA,cAGD,CACE,MAAS,kCACT,KAAQ,MACR,QAAW,EACX,OAAS,EACT,KAAQ,0CACR,IAAO,CACR,oBACA,qBAGD,CACE,MAAS,yBACT,KAAQ,MACR,QAAW,EACX,OAAS,EACT,KAAQ,0CACR,IAAO,CACR,gBACA,wBACA,iBACA,mBACA,iBACA,kBACA,sBACA,YAGD,CACE,MAAS,gCACT,KAAQ,OACR,QAAW,EACX,OAAS,EACT,KAAQ,8BACR,IAAO,CACR,iBACA,qBACA,sBACA,oBACA,kBACA,sBACA,YACA,sBAGD,CACE,MAAS,wBACT,KAAQ,MACR,QAAW,EACX,OAAS,EACT,KAAQ,yCACR,IAAO,CACR,kBACA,uBACA,4BACA,oBACA,oBACA,8BACA,8BACA,iCACA,sBACA,uBACA,mBACA,mBACA,YAGD,CACE,MAAS,iCACT,KAAQ,MACR,QAAW,EACX,OAAS,EACT,KAAQ,kDACR,IAAO,CACR,yBACA,iBACA,iBACA,sBACA,sBAGD,CACE,MAAS,+BACT,KAAQ,OACR,QAAW,EACX,OAAS,EACT,KAAQ,2BACR,IAAO,CACR,iBACA,0BAGD,CACE,MAAS,2BACT,KAAQ,OACR,QAAW,EACX,OAAS,EACT,KAAQ,kCACR,IAAO,CACR,iBACA,iBACA,wBACA,mBACA,oBACA,kBACA,eACA,iBACA,qBACA,cAGD,CACE,MAAS,wBACT,KAAQ,MACR,QAAW,EACX,OAAS,EACT,KAAQ,yCACR,IAAO,CACR,kBACA,iBACA,6BACA,4BACA,0BACA,kBACA,8BACA,qBACA,mBACA,iBACA,mBACA,kBACA,sBACA,yBACA,sBACA,kBACA,YAGD,CACE,MAAS,2BACT,KAAQ,OACR,QAAW,EACX,OAAS,EACT,KAAQ,6BACR,IAAO,CACR,0BACA,wBACA,yBAGD,CACE,MAAS,0BACT,KAAQ,MACR,QAAW,IACX,OAAS,EACT,KAAQ,sBACR,IAAO,CACR,oBAGD,CACE,MAAS,yBACT,KAAQ,MACR,QAAW,EACX,OAAS,EACT,KAAQ,uBACR,IAAO,CACR,qBAGD,CACE,MAAS,yBACT,KAAQ,MACR,QAAW,EACX,OAAS,EACT,KAAQ,qCACR,IAAO,CACR,oBACA,oBACA,kBACA,kBACA,gBACA,qBAGD,CACE,MAAS,kCACT,KAAQ,OACR,QAAW,EACX,OAAS,EACT,KAAQ,qBACR,IAAO,CACR,uBACA,mBAGD,CACE,MAAS,2BACT,KAAQ,OACR,QAAW,EACX,OAAS,EACT,KAAQ,mDACR,IAAO,CACR,mBACA,kBACA,gBACA,mBACA,uBACA,oBACA,kBACA,mBACA,qBACA,kBACA,qBACA,iBACA,qBACA,iBACA,wBACA,iBACA,kBACA,qBACA,qBACA,wBACA,sBACA,sBACA,wBACA,wBACA,mBACA,mBACA,oBACA,qBACA,kBACA,cAGD,CACE,MAAS,2BACT,KAAQ,OACR,QAAW,EACX,OAAS,EACT,KAAQ,uBACR,IAAO,CACR,mBACA,sBAGD,CACE,MAAS,6BACT,KAAQ,MACR,QAAW,IACX,OAAS,EACT,KAAQ,2BACR,IAAO,CACR,qBAGD,CACE,MAAS,iCACT,KAAQ,QACR,QAAW,EACX,OAAS,EACT,KAAQ,uBACR,IAAO,CACR,sBAGD,CACE,MAAS,0BACT,KAAQ,MACR,QAAW,EACX,OAAS,EACT,KAAQ,2BACR,IAAO,CACR,6BACA,iCACA,0BACA,6BACA,6BACA,4BACA,4BACA,uBACA,oBACA,kBACA,gBACA,oBAGD,CACE,MAAS,2BACT,KAAQ,OACR,QAAW,EACX,OAAS,EACT,KAAQ,iCACR,IAAO,CACR,oBACA,gBACA,kBACA,oBACA,iBACA,qBACA,iBACA,mBACA,qBACA,mBACA,cAGD,CACE,MAAS,0BACT,KAAQ,MACR,QAAW,EACX,OAAS,EACT,KAAQ,wBACR,IAAO,CACR,oBAGD,CACE,MAAS,2BACT,KAAQ,MACR,QAAW,EACX,OAAS,EACT,KAAQ,yBACR,IAAO,CACR,uBAGD,CACE,MAAS,sBACT,KAAQ,MACR,QAAW,EACX,OAAS,EACT,KAAQ,uBACR,IAAO,CACR,kBAGD,CACE,MAAS,SACT,KAAQ,IACR,QAAW,EACX,OAAS,EACT,KAAQ,4CACR,IAAO,CACR,kBACA,yBACA,cAGD,CACE,MAAS,6BACT,KAAQ,MACR,QAAW,EACX,OAAS,EACT,KAAQ,iCACR,IAAO,IAET,CACE,MAAS,uBACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,qBACR,IAAO,CACR,uBACA,oBAGD,CACE,MAAS,2BACT,KAAQ,OACR,QAAW,EACX,OAAS,EACT,KAAQ,6BACR,IAAO,CACR,sBACA,cAGD,CACE,MAAS,wBACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,mBACR,IAAO,CACR,oBACA,oBAGD,CACE,MAAS,MACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,mCACR,IAAO,CACR,uBACA,YAGD,CACE,MAAS,oBACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,0BACR,IAAO,CACR,qBACA,kBACA,gBACA,kBAGD,CACE,MAAS,sBACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,gCACR,IAAO,CACR,qBACA,kBACA,gBACA,kBAGD,CACE,MAAS,oBACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,uBACR,IAAO,CACR,kBACA,kBACA,mBACA,gBACA,kBAGD,CACE,MAAS,0BACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,4BACR,IAAO,CACR,iBACA,eACA,gBACA,gBACA,gBACA,iBACA,eACA,kBACA,cACA,kBACA,oBACA,qBACA,kBACA,qBACA,uBAGD,CACE,MAAS,0BACT,KAAQ,OACR,OAAU,EACV,OAAS,EACT,KAAQ,+DACR,IAAO,CACR,sBACA,mBACA,iBACA,gBACA,kBACA,mBACA,oBACA,eACA,gBACA,cACA,cACA,oBACA,mBACA,eACA,iBACA,gBACA,kBAGD,CACE,MAAS,+BACT,KAAQ,OACR,OAAU,EACV,OAAS,EACT,KAAQ,gEACR,IAAO,CACR,kBACA,oBACA,kBACA,mBACA,mBACA,gBACA,kBAGD,CACE,MAAS,wBACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,kDACR,IAAO,CACR,eACA,kBACA,oBACA,gBACA,iBAGD,CACE,MAAS,iCACT,KAAQ,OACR,OAAU,EACV,OAAS,EACT,KAAQ,+CACR,IAAO,CACR,kBACA,gBACA,gBACA,kBAGD,CACE,MAAS,kCACT,KAAQ,QACR,OAAU,EACV,OAAS,EACT,KAAQ,kCACR,IAAO,CACR,iBACA,gBACA,qBACA,gBACA,kBACA,eACA,oBACA,gBACA,gBACA,kBACA,gBACA,oBACA,eACA,cAGD,CACE,MAAS,wBACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,uBACR,IAAO,CACR,oBAGD,CACE,MAAS,oBACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,gCACR,IAAO,CACR,eACA,gBACA,mBACA,oBAGD,CACE,MAAS,4BACT,KAAQ,OACR,OAAU,EACV,OAAS,EACT,KAAQ,qBACR,IAAO,CACR,gBAGD,CACE,MAAS,sBACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,oBACR,IAAO,CACR,iBAGD,CACE,MAAS,sBACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,uBACR,IAAO,CACR,kBAGD,CACE,MAAS,0BACT,KAAQ,OACR,OAAU,EACV,OAAS,EACT,KAAQ,wBACR,IAAO,CACR,eACA,gBACA,mBACA,kBACA,kBACA,cACA,mBACA,iBACA,cACA,eACA,iBACA,kBACA,iBACA,sBAID,CACE,MAAS,6BACT,KAAQ,OACR,OAAU,EACV,OAAS,EACT,KAAQ,+BACR,IAAO,CACR,kBACA,mBACA,kBACA,gBACA,sBACA,gBACA,oBACA,gBACA,gBACA,gBACA,iBACA,cAGD,CACE,MAAS,oBACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,4DACR,IAAO,CACR,kBACA,cACA,mBACA,cACA,eACA,iBACA,kBACA,iBACA,sBAGD,CACE,MAAS,uBACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,uBACR,IAAO,CACR,oBAGD,CACE,MAAS,uBACT,KAAQ,MACR,OAAU,EACV,OAAS,EACT,KAAQ,wBACR,I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","file":"static/js/main.c1e08966.chunk.js","sourcesContent":["var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t485,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t486,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t487,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t488,\n\t\t18\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t489,\n\t\t19\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t490,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t491,\n\t\t20\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t492,\n\t\t21\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t493,\n\t\t22\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t494,\n\t\t23\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t495,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t496,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t497,\n\t\t24\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t498,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t499,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t500,\n\t\t25\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t501,\n\t\t26\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t502,\n\t\t27\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t503,\n\t\t28\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t504,\n\t\t29\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t505,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t506,\n\t\t15\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t507,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t508,\n\t\t30\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t509,\n\t\t31\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t510,\n\t\t32\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t511,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t512,\n\t\t17\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t513,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t514,\n\t\t33\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t515,\n\t\t34\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t516,\n\t\t35\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t517,\n\t\t36\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t518,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t519,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t520,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t521,\n\t\t37\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t522,\n\t\t16\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t523,\n\t\t38\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t524,\n\t\t39\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t525,\n\t\t40\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t526,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t527,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 246;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t531,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 268;\nmodule.exports = webpackAsyncContext;","import * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport 'firebase/storage';\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyAkjZ0l_CDX4Qn_4Mk_bW2xamUXkEFUuDc\",\n    authDomain: \"mbo-no-show-ui-42d2e.firebaseapp.com\",\n    databaseURL: \"https://mbo-no-show-ui-42d2e.firebaseio.com\",\n    projectId: \"mbo-no-show-ui-42d2e\",\n    storageBucket: \"mbo-no-show-ui-42d2e.appspot.com\",\n    messagingSenderId: \"216044501842\",\n    appId: \"1:216044501842:web:1b97ff05b43fd21275d88b\",\n    measurementId: \"G-TTNZXEGJ85\"\n  };\n\n  const app = firebase.initializeApp(firebaseConfig)\n  export const auth = app.auth();\n  export const firestore = app.firestore();\n  export const storage = app.storage();\n","import React, { useContext, useState, useEffect } from 'react';\nimport { auth as firsebaseAuth} from './firebase';\n\ninterface Auth {\n    loggedIn: boolean;\n    userId?: string;\n}\n\ninterface AuthInit {\n    loading: boolean;\n    auth?: Auth;\n}\n\nexport const AuthContext = React.createContext<Auth>({ loggedIn: false });\n\nexport function useAuth(): Auth {\n    return useContext(AuthContext);\n}\n\nexport function useAuthInit(): AuthInit {\n    const [authInit, setAuthInit] = useState<AuthInit>({ loading: true });\n    useEffect(() => {\n        return firsebaseAuth.onAuthStateChanged((firebaseUser) => {\n            // console.log('[onAuthStateChanged]:', user)\n            const auth = firebaseUser \n            ? { loggedIn: true, userId: firebaseUser.uid } \n            : { loggedIn: false, userId: ''}\n            setAuthInit({ loading: false, auth: auth });\n        });\n    }, []);\n    return authInit;\n}","import {\n  IonApp,\n  IonContent,\n  IonHeader,\n  IonTitle,\n  IonToolbar,\n  IonButton,\n  IonList,\n  IonItem,\n  IonLabel,\n  IonInput,\n  IonText,\n  IonLoading\n} from '@ionic/react';\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router';\nimport { useAuth } from '../auth';\nimport { auth } from '../firebase';\n\n\nconst LoginPage: React.FC = () => {\n\n  const { loggedIn } = useAuth();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [status, setStatus] = useState({ loading: false, error: false});\n\n  const handleLogin = async () => {\n    // console.log('Login with: ', { email, password})\n    // const credential = auth.signInWithEmailAndPassword(\"test@me.co\", \"123456\");\n    try {\n      setStatus({ loading: true, error: false});\n      // const credential = \n      await auth.signInWithEmailAndPassword(email, password);\n      // console.log(\"credential:\", credential)\n    } catch(error) {\n      setStatus({ loading: false, error: true});\n      console.log('[LoginPage] signin error: ', error);\n    }\n    \n  }\n\n  if (loggedIn) { return <Redirect to=\"/v1/entries\" /> }\n\n  return (\n    <IonApp>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Login</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        <IonList>\n          <IonItem>\n            <IonLabel position=\"stacked\">Email</IonLabel>\n            <IonInput\n              type=\"email\"\n              value={email}\n              onIonChange={(event) => setEmail(event.detail.value)}\n            />\n          </IonItem>\n          <IonItem>\n            <IonLabel position=\"stacked\">Password</IonLabel>\n            <IonInput\n              type=\"password\"\n              value={password}\n              onIonChange={(event) => setPassword(event.detail.value)}\n            />\n          </IonItem>\n        </IonList>\n        {status.error && <IonText color=\"danger\">Invalid Credentials</IonText>}\n        <IonButton expand=\"block\" onClick={handleLogin}>Login</IonButton>\n      </IonContent>\n      <IonLoading isOpen={status.loading} />\n    </IonApp>\n  );\n};\n\nexport default LoginPage;\n\n","// Entry\n// id\n// disputes\n// billing\n\nexport interface Entries {\n    id: string;\n    disputes: Dispute[];\n    billing: Billing[];\n}\n\nexport function toEntries(doc): Entries { return { id: doc.id, ...doc.data() }; }\n\nexport interface Dispute {\n    id: string;\n    _ledger_id: number;\n    _index_key: string;\n    _class_visit_id: string;\n    _location_id: number;\n    verdict: string;\n    dispute_reason: string;\n    class_instructor_name: string;\n    class_name: string;\n    class_location: string;\n    class_datetime: string;\n    member_name: string;\n    member_email: string;\n    member_id: string;\n    charge_scheduled_run_date: string;\n    completion_datetime: string;\n    completed_by_name: string;\n    completed_by_id: string;\n    submission_datetime: string;\n}\n\nexport function toDispute(doc): Dispute {\n    return { id: doc.id, ...doc.data() };\n}\n\nexport interface Billing {\n    id: string;\n    _ledger_id: number;\n    _index_key: string;\n    _class_visit_id: string;\n    _location_id: number;\n    member_name: string;\n    member_email: string;\n    member_id: string;\n    mbo_shopping_cart_id: string;\n    status: string;\n    completion_datetime: string;\n    amount: number;\n    completed_by_name: string;\n    completed_by_id: string;\n    submission_datetime: string;\n}\n\nexport function toBilling(doc): Billing {\n    return { id: doc.id, ...doc.data() };\n}\n","import {\n  IonApp,\n  IonContent,\n  IonHeader,\n  IonTitle,\n  IonToolbar,\n  IonFab,\n  IonFabButton,\n  IonIcon,\n  IonLabel, IonGrid, IonRow, IonCol, IonCardTitle, IonCard, IonCardHeader, IonCardSubtitle\n} from '@ionic/react';\nimport { analyticsSharp as fabIcon } from 'ionicons/icons'\nimport React, { useState, useEffect } from 'react';\nimport { firestore } from '../firebase';\nimport { Entries, toEntries, Billing, Dispute } from '../models/Entry';\nimport { useAuth } from '../auth';\n// import { formatDate } from '../date';\n\nconst HomePage: React.FC = () => {\n  const { userId } = useAuth();\n  const [entries, setEntries] = useState<Entries[]>([]);\n  const [billing, setBilling] = useState<Billing[]>([]);\n  const [disputes, setDisputes] = useState<Dispute[]>([]);\n\n  useEffect(() => {\n    const entriesRef = firestore.collection('users').doc(userId).collection('Entries');\n    // return entriesRef.orderBy('date', 'desc').limit(10).onSnapshot(({ docs }) => setEntries(docs.map(toEntry)));\n    return entriesRef.limit(5).onSnapshot(({ docs }) => setEntries(docs.map(toEntries)));\n    // entriesRef.get().then(({ docs }) => setEntries(docs.map(toEntries)));\n  }, [userId]);\n\n  useEffect(() => {\n    entries.map((e) => {\n      setDisputes(e.disputes)\n      setBilling(e.billing)\n      return e\n    })\n  }, [entries])\n\n  // console.log(\"Rendered HomePage: entries: \", entries);\n  return (\n    <IonApp>\n      {/* <IonFab vertical=\"bottom\" horizontal=\"end\">\n          <IonFabButton routerLink=\"/v1/entries/add\">\n            <IonIcon icon={fabIcon} />\n          </IonFabButton>\n        </IonFab> */}\n      <IonFab vertical=\"bottom\" horizontal=\"end\">\n        <IonFabButton routerLink=\"/v1/reports/location/0\">\n          <IonIcon icon={fabIcon} />\n        </IonFabButton>\n      </IonFab>\n\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>No Show</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        <IonGrid fixed>\n          <IonRow>\n            <IonCol >\n              {/* <IonList> */}\n              <IonLabel>Disputes</IonLabel>\n              {disputes.map((d) =>\n                <IonCard key={d._index_key}>\n                  <IonCardHeader>\n                    <IonCardTitle>{d.member_name}</IonCardTitle>\n                    <IonCardSubtitle color=\"danger\">{d.verdict}</IonCardSubtitle>\n                  </IonCardHeader>\n                </IonCard>\n              )}\n              {/* </IonList> */}\n            </IonCol>\n          </IonRow>\n          <IonRow>\n            <IonCol>\n              <IonLabel>Billing</IonLabel>\n              {billing?.map((b) =>\n                <IonCard key={b._ledger_id}>\n                  <IonCardHeader>\n                    <IonCardTitle>{b.member_name}</IonCardTitle>\n                    <IonCardSubtitle color={b.status === 'REFUND' ? \"tertiary\" : \"warning\"}>{b.status}</IonCardSubtitle>\n                  </IonCardHeader>\n                </IonCard>\n              )}\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonApp>\n  );\n};\n\nexport default HomePage;\n","export interface NoShowClient {\n    id: number;\n\tfirebase_auth_id: string;\n\tmbo_site_id: string;\n\tmbo_no_show_product_id: string;\n\tmbo_no_show_product_name: string;\n\tmbo_no_show_product_amount: number;\n\tmbo_late_cancel_product_id: string;\n\tmbo_late_cancel_product_name: string;\n\tmbo_late_cancel_product_amount: number;\n\tno_show_forgive_min: number; // -- A charge will not apply if the client has LESS THAN this many NoShows\n\tno_show_forgive_max: number; // -- A charge will not apply if the client has MORE THAN this many NoShows\n\tno_show_forgive_frequency: string; // -- Monthly or Weekly\n\tlate_cancel_forgive_min: number; // -- A charge will not apply if the client has LESS THAN this many Late Cancels\n\tlate_cancel_forgive_max: number; // -- A charge will not apply if the client has MORE THAN this many Late Cancels\n\tlate_cancel_forgive_frequency: string; // -- Monthly or Weekly\n\tsubscription_status: string; // Enum of status constants\n\tlocations: Array<Locations>; // -- If false this will change the ledger status to abort for all relevent charges\n\toffense_to_billing_hold_days: number; // -- number of days the billing run will wait for before running\n    is_test: boolean;\n    is_pre_launch: boolean;\n\tclass_black_list: Array<ClassBlackList>; // -- the classes that billing does NOT apply to\n\tbilling_timezone: Timezone;\n\twill_charge_non_members: boolean;\n}\n\nexport interface Locations { \n\tlocation_manager_name: string;\n\tlocation_name: string;\n\tlocation_name_alias: string;\n\tlocation_name_abbreviated: string;\n\tlocation_email: string;\n\tlocation_phone: string;\n\tlocation_id: number;\n\tis_billing: boolean;\n\twill_send_comms: boolean;\n}\n\nexport interface ClassBlackList { \n\tsession_type_name: string;\n\tsession_type_id: number; \n}\n\nexport interface Timezone {\n    value: string;\n    abbr: string;\n    offset: number;\n    isdst: Boolean;\n    text: string;\n    utc: Array<string>;\n  }\n\n// This is the setter\nexport function toNoShowClient(doc): NoShowClient {\n    return { id: doc.id, ...doc.data() };\n}\n\n// export function updateNoShowClient(no_show_client) {\n// \treturn { ...no_show_client }\n// }\n\nexport const timezones = [\n\t{\n\t  \"value\": \"Dateline Standard Time\",\n\t  \"abbr\": \"DST\",\n\t  \"offset\": -12,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-12:00) International Date Line West\",\n\t  \"utc\": [\n\t\t\"Etc/GMT+12\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"UTC-11\",\n\t  \"abbr\": \"U\",\n\t  \"offset\": -11,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-11:00) Coordinated Universal Time-11\",\n\t  \"utc\": [\n\t\t\"Etc/GMT+11\",\n\t\t\"Pacific/Midway\",\n\t\t\"Pacific/Niue\",\n\t\t\"Pacific/Pago_Pago\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Hawaiian Standard Time\",\n\t  \"abbr\": \"HST\",\n\t  \"offset\": -10,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-10:00) Hawaii\",\n\t  \"utc\": [\n\t\t\"Etc/GMT+10\",\n\t\t\"Pacific/Honolulu\",\n\t\t\"Pacific/Johnston\",\n\t\t\"Pacific/Rarotonga\",\n\t\t\"Pacific/Tahiti\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Alaskan Standard Time\",\n\t  \"abbr\": \"AKDT\",\n\t  \"offset\": -8,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC-09:00) Alaska\",\n\t  \"utc\": [\n\t\t\"America/Anchorage\",\n\t\t\"America/Juneau\",\n\t\t\"America/Nome\",\n\t\t\"America/Sitka\",\n\t\t\"America/Yakutat\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Pacific Standard Time (Mexico)\",\n\t  \"abbr\": \"PDT\",\n\t  \"offset\": -7,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC-08:00) Baja California\",\n\t  \"utc\": [\n\t\t\"America/Santa_Isabel\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Pacific Daylight Time\",\n\t  \"abbr\": \"PDT\",\n\t  \"offset\": -7,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC-07:00) Pacific Time (US & Canada)\",\n\t  \"utc\": [\n\t\t\"America/Dawson\",\n\t\t\"America/Los_Angeles\",\n\t\t\"America/Tijuana\",\n\t\t\"America/Vancouver\",\n\t\t\"America/Whitehorse\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Pacific Standard Time\",\n\t  \"abbr\": \"PST\",\n\t  \"offset\": -8,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-08:00) Pacific Time (US & Canada)\",\n\t  \"utc\": [\n\t\t\"America/Dawson\",\n\t\t\"America/Los_Angeles\",\n\t\t\"America/Tijuana\",\n\t\t\"America/Vancouver\",\n\t\t\"America/Whitehorse\",\n\t\t\"PST8PDT\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"US Mountain Standard Time\",\n\t  \"abbr\": \"UMST\",\n\t  \"offset\": -7,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-07:00) Arizona\",\n\t  \"utc\": [\n\t\t\"America/Creston\",\n\t\t\"America/Dawson_Creek\",\n\t\t\"America/Hermosillo\",\n\t\t\"America/Phoenix\",\n\t\t\"Etc/GMT+7\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Mountain Standard Time (Mexico)\",\n\t  \"abbr\": \"MDT\",\n\t  \"offset\": -6,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC-07:00) Chihuahua, La Paz, Mazatlan\",\n\t  \"utc\": [\n\t\t\"America/Chihuahua\",\n\t\t\"America/Mazatlan\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Mountain Standard Time\",\n\t  \"abbr\": \"MDT\",\n\t  \"offset\": -6,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC-07:00) Mountain Time (US & Canada)\",\n\t  \"utc\": [\n\t\t\"America/Boise\",\n\t\t\"America/Cambridge_Bay\",\n\t\t\"America/Denver\",\n\t\t\"America/Edmonton\",\n\t\t\"America/Inuvik\",\n\t\t\"America/Ojinaga\",\n\t\t\"America/Yellowknife\",\n\t\t\"MST7MDT\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Central America Standard Time\",\n\t  \"abbr\": \"CAST\",\n\t  \"offset\": -6,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-06:00) Central America\",\n\t  \"utc\": [\n\t\t\"America/Belize\",\n\t\t\"America/Costa_Rica\",\n\t\t\"America/El_Salvador\",\n\t\t\"America/Guatemala\",\n\t\t\"America/Managua\",\n\t\t\"America/Tegucigalpa\",\n\t\t\"Etc/GMT+6\",\n\t\t\"Pacific/Galapagos\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Central Standard Time\",\n\t  \"abbr\": \"CDT\",\n\t  \"offset\": -5,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC-06:00) Central Time (US & Canada)\",\n\t  \"utc\": [\n\t\t\"America/Chicago\",\n\t\t\"America/Indiana/Knox\",\n\t\t\"America/Indiana/Tell_City\",\n\t\t\"America/Matamoros\",\n\t\t\"America/Menominee\",\n\t\t\"America/North_Dakota/Beulah\",\n\t\t\"America/North_Dakota/Center\",\n\t\t\"America/North_Dakota/New_Salem\",\n\t\t\"America/Rainy_River\",\n\t\t\"America/Rankin_Inlet\",\n\t\t\"America/Resolute\",\n\t\t\"America/Winnipeg\",\n\t\t\"CST6CDT\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Central Standard Time (Mexico)\",\n\t  \"abbr\": \"CDT\",\n\t  \"offset\": -5,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC-06:00) Guadalajara, Mexico City, Monterrey\",\n\t  \"utc\": [\n\t\t\"America/Bahia_Banderas\",\n\t\t\"America/Cancun\",\n\t\t\"America/Merida\",\n\t\t\"America/Mexico_City\",\n\t\t\"America/Monterrey\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Canada Central Standard Time\",\n\t  \"abbr\": \"CCST\",\n\t  \"offset\": -6,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-06:00) Saskatchewan\",\n\t  \"utc\": [\n\t\t\"America/Regina\",\n\t\t\"America/Swift_Current\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"SA Pacific Standard Time\",\n\t  \"abbr\": \"SPST\",\n\t  \"offset\": -5,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-05:00) Bogota, Lima, Quito\",\n\t  \"utc\": [\n\t\t\"America/Bogota\",\n\t\t\"America/Cayman\",\n\t\t\"America/Coral_Harbour\",\n\t\t\"America/Eirunepe\",\n\t\t\"America/Guayaquil\",\n\t\t\"America/Jamaica\",\n\t\t\"America/Lima\",\n\t\t\"America/Panama\",\n\t\t\"America/Rio_Branco\",\n\t\t\"Etc/GMT+5\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Eastern Standard Time\",\n\t  \"abbr\": \"EDT\",\n\t  \"offset\": -4,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC-05:00) Eastern Time (US & Canada)\",\n\t  \"utc\": [\n\t\t\"America/Detroit\",\n\t\t\"America/Havana\",\n\t\t\"America/Indiana/Petersburg\",\n\t\t\"America/Indiana/Vincennes\",\n\t\t\"America/Indiana/Winamac\",\n\t\t\"America/Iqaluit\",\n\t\t\"America/Kentucky/Monticello\",\n\t\t\"America/Louisville\",\n\t\t\"America/Montreal\",\n\t\t\"America/Nassau\",\n\t\t\"America/New_York\",\n\t\t\"America/Nipigon\",\n\t\t\"America/Pangnirtung\",\n\t\t\"America/Port-au-Prince\",\n\t\t\"America/Thunder_Bay\",\n\t\t\"America/Toronto\",\n\t\t\"EST5EDT\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"US Eastern Standard Time\",\n\t  \"abbr\": \"UEDT\",\n\t  \"offset\": -4,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC-05:00) Indiana (East)\",\n\t  \"utc\": [\n\t\t\"America/Indiana/Marengo\",\n\t\t\"America/Indiana/Vevay\",\n\t\t\"America/Indianapolis\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Venezuela Standard Time\",\n\t  \"abbr\": \"VST\",\n\t  \"offset\": -4.5,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-04:30) Caracas\",\n\t  \"utc\": [\n\t\t\"America/Caracas\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Paraguay Standard Time\",\n\t  \"abbr\": \"PYT\",\n\t  \"offset\": -4,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-04:00) Asuncion\",\n\t  \"utc\": [\n\t\t\"America/Asuncion\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Atlantic Standard Time\",\n\t  \"abbr\": \"ADT\",\n\t  \"offset\": -3,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC-04:00) Atlantic Time (Canada)\",\n\t  \"utc\": [\n\t\t\"America/Glace_Bay\",\n\t\t\"America/Goose_Bay\",\n\t\t\"America/Halifax\",\n\t\t\"America/Moncton\",\n\t\t\"America/Thule\",\n\t\t\"Atlantic/Bermuda\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Central Brazilian Standard Time\",\n\t  \"abbr\": \"CBST\",\n\t  \"offset\": -4,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-04:00) Cuiaba\",\n\t  \"utc\": [\n\t\t\"America/Campo_Grande\",\n\t\t\"America/Cuiaba\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"SA Western Standard Time\",\n\t  \"abbr\": \"SWST\",\n\t  \"offset\": -4,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan\",\n\t  \"utc\": [\n\t\t\"America/Anguilla\",\n\t\t\"America/Antigua\",\n\t\t\"America/Aruba\",\n\t\t\"America/Barbados\",\n\t\t\"America/Blanc-Sablon\",\n\t\t\"America/Boa_Vista\",\n\t\t\"America/Curacao\",\n\t\t\"America/Dominica\",\n\t\t\"America/Grand_Turk\",\n\t\t\"America/Grenada\",\n\t\t\"America/Guadeloupe\",\n\t\t\"America/Guyana\",\n\t\t\"America/Kralendijk\",\n\t\t\"America/La_Paz\",\n\t\t\"America/Lower_Princes\",\n\t\t\"America/Manaus\",\n\t\t\"America/Marigot\",\n\t\t\"America/Martinique\",\n\t\t\"America/Montserrat\",\n\t\t\"America/Port_of_Spain\",\n\t\t\"America/Porto_Velho\",\n\t\t\"America/Puerto_Rico\",\n\t\t\"America/Santo_Domingo\",\n\t\t\"America/St_Barthelemy\",\n\t\t\"America/St_Kitts\",\n\t\t\"America/St_Lucia\",\n\t\t\"America/St_Thomas\",\n\t\t\"America/St_Vincent\",\n\t\t\"America/Tortola\",\n\t\t\"Etc/GMT+4\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Pacific SA Standard Time\",\n\t  \"abbr\": \"PSST\",\n\t  \"offset\": -4,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-04:00) Santiago\",\n\t  \"utc\": [\n\t\t\"America/Santiago\",\n\t\t\"Antarctica/Palmer\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Newfoundland Standard Time\",\n\t  \"abbr\": \"NDT\",\n\t  \"offset\": -2.5,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC-03:30) Newfoundland\",\n\t  \"utc\": [\n\t\t\"America/St_Johns\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"E. South America Standard Time\",\n\t  \"abbr\": \"ESAST\",\n\t  \"offset\": -3,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-03:00) Brasilia\",\n\t  \"utc\": [\n\t\t\"America/Sao_Paulo\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Argentina Standard Time\",\n\t  \"abbr\": \"AST\",\n\t  \"offset\": -3,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-03:00) Buenos Aires\",\n\t  \"utc\": [\n\t\t\"America/Argentina/La_Rioja\",\n\t\t\"America/Argentina/Rio_Gallegos\",\n\t\t\"America/Argentina/Salta\",\n\t\t\"America/Argentina/San_Juan\",\n\t\t\"America/Argentina/San_Luis\",\n\t\t\"America/Argentina/Tucuman\",\n\t\t\"America/Argentina/Ushuaia\",\n\t\t\"America/Buenos_Aires\",\n\t\t\"America/Catamarca\",\n\t\t\"America/Cordoba\",\n\t\t\"America/Jujuy\",\n\t\t\"America/Mendoza\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"SA Eastern Standard Time\",\n\t  \"abbr\": \"SEST\",\n\t  \"offset\": -3,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-03:00) Cayenne, Fortaleza\",\n\t  \"utc\": [\n\t\t\"America/Araguaina\",\n\t\t\"America/Belem\",\n\t\t\"America/Cayenne\",\n\t\t\"America/Fortaleza\",\n\t\t\"America/Maceio\",\n\t\t\"America/Paramaribo\",\n\t\t\"America/Recife\",\n\t\t\"America/Santarem\",\n\t\t\"Antarctica/Rothera\",\n\t\t\"Atlantic/Stanley\",\n\t\t\"Etc/GMT+3\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Greenland Standard Time\",\n\t  \"abbr\": \"GDT\",\n\t  \"offset\": -3,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC-03:00) Greenland\",\n\t  \"utc\": [\n\t\t\"America/Godthab\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Montevideo Standard Time\",\n\t  \"abbr\": \"MST\",\n\t  \"offset\": -3,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-03:00) Montevideo\",\n\t  \"utc\": [\n\t\t\"America/Montevideo\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Bahia Standard Time\",\n\t  \"abbr\": \"BST\",\n\t  \"offset\": -3,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-03:00) Salvador\",\n\t  \"utc\": [\n\t\t\"America/Bahia\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"UTC-02\",\n\t  \"abbr\": \"U\",\n\t  \"offset\": -2,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-02:00) Coordinated Universal Time-02\",\n\t  \"utc\": [\n\t\t\"America/Noronha\",\n\t\t\"Atlantic/South_Georgia\",\n\t\t\"Etc/GMT+2\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Mid-Atlantic Standard Time\",\n\t  \"abbr\": \"MDT\",\n\t  \"offset\": -1,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC-02:00) Mid-Atlantic - Old\",\n\t  \"utc\": []\n\t},\n\t{\n\t  \"value\": \"Azores Standard Time\",\n\t  \"abbr\": \"ADT\",\n\t  \"offset\": 0,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC-01:00) Azores\",\n\t  \"utc\": [\n\t\t\"America/Scoresbysund\",\n\t\t\"Atlantic/Azores\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Cape Verde Standard Time\",\n\t  \"abbr\": \"CVST\",\n\t  \"offset\": -1,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC-01:00) Cape Verde Is.\",\n\t  \"utc\": [\n\t\t\"Atlantic/Cape_Verde\",\n\t\t\"Etc/GMT+1\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Morocco Standard Time\",\n\t  \"abbr\": \"MDT\",\n\t  \"offset\": 1,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC) Casablanca\",\n\t  \"utc\": [\n\t\t\"Africa/Casablanca\",\n\t\t\"Africa/El_Aaiun\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"UTC\",\n\t  \"abbr\": \"UTC\",\n\t  \"offset\": 0,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC) Coordinated Universal Time\",\n\t  \"utc\": [\n\t\t\"America/Danmarkshavn\",\n\t\t\"Etc/GMT\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"GMT Standard Time\",\n\t  \"abbr\": \"GMT\",\n\t  \"offset\": 0,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC) Edinburgh, London\",\n\t  \"utc\": [\n\t\t\"Europe/Isle_of_Man\",\n\t\t\"Europe/Guernsey\",\n\t\t\"Europe/Jersey\",\n\t\t\"Europe/London\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"British Summer Time\",\n\t  \"abbr\": \"BST\",\n\t  \"offset\": 1,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC+01:00) Edinburgh, London\",\n\t  \"utc\": [\n\t\t\"Europe/Isle_of_Man\",\n\t\t\"Europe/Guernsey\",\n\t\t\"Europe/Jersey\",\n\t\t\"Europe/London\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"GMT Standard Time\",\n\t  \"abbr\": \"GDT\",\n\t  \"offset\": 1,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC) Dublin, Lisbon\",\n\t  \"utc\": [\n\t\t\"Atlantic/Canary\",\n\t\t\"Atlantic/Faeroe\",\n\t\t\"Atlantic/Madeira\",\n\t\t\"Europe/Dublin\",\n\t\t\"Europe/Lisbon\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Greenwich Standard Time\",\n\t  \"abbr\": \"GST\",\n\t  \"offset\": 0,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC) Monrovia, Reykjavik\",\n\t  \"utc\": [\n\t\t\"Africa/Abidjan\",\n\t\t\"Africa/Accra\",\n\t\t\"Africa/Bamako\",\n\t\t\"Africa/Banjul\",\n\t\t\"Africa/Bissau\",\n\t\t\"Africa/Conakry\",\n\t\t\"Africa/Dakar\",\n\t\t\"Africa/Freetown\",\n\t\t\"Africa/Lome\",\n\t\t\"Africa/Monrovia\",\n\t\t\"Africa/Nouakchott\",\n\t\t\"Africa/Ouagadougou\",\n\t\t\"Africa/Sao_Tome\",\n\t\t\"Atlantic/Reykjavik\",\n\t\t\"Atlantic/St_Helena\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"W. Europe Standard Time\",\n\t  \"abbr\": \"WEDT\",\n\t  \"offset\": 2,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna\",\n\t  \"utc\": [\n\t\t\"Arctic/Longyearbyen\",\n\t\t\"Europe/Amsterdam\",\n\t\t\"Europe/Andorra\",\n\t\t\"Europe/Berlin\",\n\t\t\"Europe/Busingen\",\n\t\t\"Europe/Gibraltar\",\n\t\t\"Europe/Luxembourg\",\n\t\t\"Europe/Malta\",\n\t\t\"Europe/Monaco\",\n\t\t\"Europe/Oslo\",\n\t\t\"Europe/Rome\",\n\t\t\"Europe/San_Marino\",\n\t\t\"Europe/Stockholm\",\n\t\t\"Europe/Vaduz\",\n\t\t\"Europe/Vatican\",\n\t\t\"Europe/Vienna\",\n\t\t\"Europe/Zurich\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Central Europe Standard Time\",\n\t  \"abbr\": \"CEDT\",\n\t  \"offset\": 2,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague\",\n\t  \"utc\": [\n\t\t\"Europe/Belgrade\",\n\t\t\"Europe/Bratislava\",\n\t\t\"Europe/Budapest\",\n\t\t\"Europe/Ljubljana\",\n\t\t\"Europe/Podgorica\",\n\t\t\"Europe/Prague\",\n\t\t\"Europe/Tirane\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Romance Standard Time\",\n\t  \"abbr\": \"RDT\",\n\t  \"offset\": 2,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris\",\n\t  \"utc\": [\n\t\t\"Africa/Ceuta\",\n\t\t\"Europe/Brussels\",\n\t\t\"Europe/Copenhagen\",\n\t\t\"Europe/Madrid\",\n\t\t\"Europe/Paris\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Central European Standard Time\",\n\t  \"abbr\": \"CEDT\",\n\t  \"offset\": 2,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb\",\n\t  \"utc\": [\n\t\t\"Europe/Sarajevo\",\n\t\t\"Europe/Skopje\",\n\t\t\"Europe/Warsaw\",\n\t\t\"Europe/Zagreb\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"W. Central Africa Standard Time\",\n\t  \"abbr\": \"WCAST\",\n\t  \"offset\": 1,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+01:00) West Central Africa\",\n\t  \"utc\": [\n\t\t\"Africa/Algiers\",\n\t\t\"Africa/Bangui\",\n\t\t\"Africa/Brazzaville\",\n\t\t\"Africa/Douala\",\n\t\t\"Africa/Kinshasa\",\n\t\t\"Africa/Lagos\",\n\t\t\"Africa/Libreville\",\n\t\t\"Africa/Luanda\",\n\t\t\"Africa/Malabo\",\n\t\t\"Africa/Ndjamena\",\n\t\t\"Africa/Niamey\",\n\t\t\"Africa/Porto-Novo\",\n\t\t\"Africa/Tunis\",\n\t\t\"Etc/GMT-1\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Namibia Standard Time\",\n\t  \"abbr\": \"NST\",\n\t  \"offset\": 1,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+01:00) Windhoek\",\n\t  \"utc\": [\n\t\t\"Africa/Windhoek\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"GTB Standard Time\",\n\t  \"abbr\": \"GDT\",\n\t  \"offset\": 3,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC+02:00) Athens, Bucharest\",\n\t  \"utc\": [\n\t\t\"Asia/Nicosia\",\n\t\t\"Europe/Athens\",\n\t\t\"Europe/Bucharest\",\n\t\t\"Europe/Chisinau\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Middle East Standard Time\",\n\t  \"abbr\": \"MEDT\",\n\t  \"offset\": 3,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC+02:00) Beirut\",\n\t  \"utc\": [\n\t\t\"Asia/Beirut\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Egypt Standard Time\",\n\t  \"abbr\": \"EST\",\n\t  \"offset\": 2,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+02:00) Cairo\",\n\t  \"utc\": [\n\t\t\"Africa/Cairo\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Syria Standard Time\",\n\t  \"abbr\": \"SDT\",\n\t  \"offset\": 3,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC+02:00) Damascus\",\n\t  \"utc\": [\n\t\t\"Asia/Damascus\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"E. Europe Standard Time\",\n\t  \"abbr\": \"EEDT\",\n\t  \"offset\": 3,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC+02:00) E. Europe\",\n\t  \"utc\": [\n\t\t\"Asia/Nicosia\",\n\t\t\"Europe/Athens\",\n\t\t\"Europe/Bucharest\",\n\t\t\"Europe/Chisinau\",\n\t\t\"Europe/Helsinki\",\n\t\t\"Europe/Kiev\",\n\t\t\"Europe/Mariehamn\",\n\t\t\"Europe/Nicosia\",\n\t\t\"Europe/Riga\",\n\t\t\"Europe/Sofia\",\n\t\t\"Europe/Tallinn\",\n\t\t\"Europe/Uzhgorod\",\n\t\t\"Europe/Vilnius\",\n\t\t\"Europe/Zaporozhye\"\n  \n\t  ]\n\t},\n\t{\n\t  \"value\": \"South Africa Standard Time\",\n\t  \"abbr\": \"SAST\",\n\t  \"offset\": 2,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+02:00) Harare, Pretoria\",\n\t  \"utc\": [\n\t\t\"Africa/Blantyre\",\n\t\t\"Africa/Bujumbura\",\n\t\t\"Africa/Gaborone\",\n\t\t\"Africa/Harare\",\n\t\t\"Africa/Johannesburg\",\n\t\t\"Africa/Kigali\",\n\t\t\"Africa/Lubumbashi\",\n\t\t\"Africa/Lusaka\",\n\t\t\"Africa/Maputo\",\n\t\t\"Africa/Maseru\",\n\t\t\"Africa/Mbabane\",\n\t\t\"Etc/GMT-2\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"FLE Standard Time\",\n\t  \"abbr\": \"FDT\",\n\t  \"offset\": 3,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius\",\n\t  \"utc\": [\n\t\t\"Europe/Helsinki\",\n\t\t\"Europe/Kiev\",\n\t\t\"Europe/Mariehamn\",\n\t\t\"Europe/Riga\",\n\t\t\"Europe/Sofia\",\n\t\t\"Europe/Tallinn\",\n\t\t\"Europe/Uzhgorod\",\n\t\t\"Europe/Vilnius\",\n\t\t\"Europe/Zaporozhye\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Turkey Standard Time\",\n\t  \"abbr\": \"TDT\",\n\t  \"offset\": 3,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+03:00) Istanbul\",\n\t  \"utc\": [\n\t\t\"Europe/Istanbul\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Israel Standard Time\",\n\t  \"abbr\": \"JDT\",\n\t  \"offset\": 3,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC+02:00) Jerusalem\",\n\t  \"utc\": [\n\t\t\"Asia/Jerusalem\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Libya Standard Time\",\n\t  \"abbr\": \"LST\",\n\t  \"offset\": 2,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+02:00) Tripoli\",\n\t  \"utc\": [\n\t\t\"Africa/Tripoli\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Jordan Standard Time\",\n\t  \"abbr\": \"JST\",\n\t  \"offset\": 3,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+03:00) Amman\",\n\t  \"utc\": [\n\t\t\"Asia/Amman\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Arabic Standard Time\",\n\t  \"abbr\": \"AST\",\n\t  \"offset\": 3,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+03:00) Baghdad\",\n\t  \"utc\": [\n\t\t\"Asia/Baghdad\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Kaliningrad Standard Time\",\n\t  \"abbr\": \"KST\",\n\t  \"offset\": 3,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+02:00) Kaliningrad\",\n\t  \"utc\": [\n\t\t\"Europe/Kaliningrad\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Arab Standard Time\",\n\t  \"abbr\": \"AST\",\n\t  \"offset\": 3,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+03:00) Kuwait, Riyadh\",\n\t  \"utc\": [\n\t\t\"Asia/Aden\",\n\t\t\"Asia/Bahrain\",\n\t\t\"Asia/Kuwait\",\n\t\t\"Asia/Qatar\",\n\t\t\"Asia/Riyadh\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"E. Africa Standard Time\",\n\t  \"abbr\": \"EAST\",\n\t  \"offset\": 3,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+03:00) Nairobi\",\n\t  \"utc\": [\n\t\t\"Africa/Addis_Ababa\",\n\t\t\"Africa/Asmera\",\n\t\t\"Africa/Dar_es_Salaam\",\n\t\t\"Africa/Djibouti\",\n\t\t\"Africa/Juba\",\n\t\t\"Africa/Kampala\",\n\t\t\"Africa/Khartoum\",\n\t\t\"Africa/Mogadishu\",\n\t\t\"Africa/Nairobi\",\n\t\t\"Antarctica/Syowa\",\n\t\t\"Etc/GMT-3\",\n\t\t\"Indian/Antananarivo\",\n\t\t\"Indian/Comoro\",\n\t\t\"Indian/Mayotte\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Moscow Standard Time\",\n\t  \"abbr\": \"MSK\",\n\t  \"offset\": 3,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+03:00) Moscow, St. Petersburg, Volgograd, Minsk\",\n\t  \"utc\": [\n\t\t  \"Europe/Kirov\",\n\t\t\"Europe/Moscow\",\n\t\t\"Europe/Simferopol\",\n\t\t\"Europe/Volgograd\",\n\t\t\"Europe/Minsk\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Samara Time\",\n\t  \"abbr\": \"SAMT\",\n\t  \"offset\": 4,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+04:00) Samara, Ulyanovsk, Saratov\",\n\t  \"utc\": [\n\t\t  \"Europe/Astrakhan\",\n\t\t\"Europe/Samara\",\n\t\t  \"Europe/Ulyanovsk\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Iran Standard Time\",\n\t  \"abbr\": \"IDT\",\n\t  \"offset\": 4.5,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC+03:30) Tehran\",\n\t  \"utc\": [\n\t\t\"Asia/Tehran\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Arabian Standard Time\",\n\t  \"abbr\": \"AST\",\n\t  \"offset\": 4,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+04:00) Abu Dhabi, Muscat\",\n\t  \"utc\": [\n\t\t\"Asia/Dubai\",\n\t\t\"Asia/Muscat\",\n\t\t\"Etc/GMT-4\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Azerbaijan Standard Time\",\n\t  \"abbr\": \"ADT\",\n\t  \"offset\": 5,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC+04:00) Baku\",\n\t  \"utc\": [\n\t\t\"Asia/Baku\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Mauritius Standard Time\",\n\t  \"abbr\": \"MST\",\n\t  \"offset\": 4,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+04:00) Port Louis\",\n\t  \"utc\": [\n\t\t\"Indian/Mahe\",\n\t\t\"Indian/Mauritius\",\n\t\t\"Indian/Reunion\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Georgian Standard Time\",\n\t  \"abbr\": \"GET\",\n\t  \"offset\": 4,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+04:00) Tbilisi\",\n\t  \"utc\": [\n\t\t\"Asia/Tbilisi\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Caucasus Standard Time\",\n\t  \"abbr\": \"CST\",\n\t  \"offset\": 4,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+04:00) Yerevan\",\n\t  \"utc\": [\n\t\t\"Asia/Yerevan\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Afghanistan Standard Time\",\n\t  \"abbr\": \"AST\",\n\t  \"offset\": 4.5,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+04:30) Kabul\",\n\t  \"utc\": [\n\t\t\"Asia/Kabul\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"West Asia Standard Time\",\n\t  \"abbr\": \"WAST\",\n\t  \"offset\": 5,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+05:00) Ashgabat, Tashkent\",\n\t  \"utc\": [\n\t\t\"Antarctica/Mawson\",\n\t\t\"Asia/Aqtau\",\n\t\t\"Asia/Aqtobe\",\n\t\t\"Asia/Ashgabat\",\n\t\t\"Asia/Dushanbe\",\n\t\t\"Asia/Oral\",\n\t\t\"Asia/Samarkand\",\n\t\t\"Asia/Tashkent\",\n\t\t\"Etc/GMT-5\",\n\t\t\"Indian/Kerguelen\",\n\t\t\"Indian/Maldives\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Yekaterinburg Time\",\n\t  \"abbr\": \"YEKT\",\n\t  \"offset\": 5,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+05:00) Yekaterinburg\",\n\t  \"utc\": [\n\t\t\"Asia/Yekaterinburg\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Pakistan Standard Time\",\n\t  \"abbr\": \"PKT\",\n\t  \"offset\": 5,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+05:00) Islamabad, Karachi\",\n\t  \"utc\": [\n\t\t\"Asia/Karachi\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"India Standard Time\",\n\t  \"abbr\": \"IST\",\n\t  \"offset\": 5.5,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi\",\n\t  \"utc\": [\n\t\t\"Asia/Kolkata\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Sri Lanka Standard Time\",\n\t  \"abbr\": \"SLST\",\n\t  \"offset\": 5.5,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+05:30) Sri Jayawardenepura\",\n\t  \"utc\": [\n\t\t\"Asia/Colombo\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Nepal Standard Time\",\n\t  \"abbr\": \"NST\",\n\t  \"offset\": 5.75,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+05:45) Kathmandu\",\n\t  \"utc\": [\n\t\t\"Asia/Kathmandu\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Central Asia Standard Time\",\n\t  \"abbr\": \"CAST\",\n\t  \"offset\": 6,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+06:00) Nur-Sultan (Astana)\",\n\t  \"utc\": [\n\t\t\"Antarctica/Vostok\",\n\t\t\"Asia/Almaty\",\n\t\t\"Asia/Bishkek\",\n\t\t\"Asia/Qyzylorda\",\n\t\t\"Asia/Urumqi\",\n\t\t\"Etc/GMT-6\",\n\t\t\"Indian/Chagos\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Bangladesh Standard Time\",\n\t  \"abbr\": \"BST\",\n\t  \"offset\": 6,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+06:00) Dhaka\",\n\t  \"utc\": [\n\t\t\"Asia/Dhaka\",\n\t\t\"Asia/Thimphu\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Myanmar Standard Time\",\n\t  \"abbr\": \"MST\",\n\t  \"offset\": 6.5,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+06:30) Yangon (Rangoon)\",\n\t  \"utc\": [\n\t\t\"Asia/Rangoon\",\n\t\t\"Indian/Cocos\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"SE Asia Standard Time\",\n\t  \"abbr\": \"SAST\",\n\t  \"offset\": 7,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+07:00) Bangkok, Hanoi, Jakarta\",\n\t  \"utc\": [\n\t\t\"Antarctica/Davis\",\n\t\t\"Asia/Bangkok\",\n\t\t\"Asia/Hovd\",\n\t\t\"Asia/Jakarta\",\n\t\t\"Asia/Phnom_Penh\",\n\t\t\"Asia/Pontianak\",\n\t\t\"Asia/Saigon\",\n\t\t\"Asia/Vientiane\",\n\t\t\"Etc/GMT-7\",\n\t\t\"Indian/Christmas\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"N. Central Asia Standard Time\",\n\t  \"abbr\": \"NCAST\",\n\t  \"offset\": 7,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+07:00) Novosibirsk\",\n\t  \"utc\": [\n\t\t\"Asia/Novokuznetsk\",\n\t\t\"Asia/Novosibirsk\",\n\t\t\"Asia/Omsk\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"China Standard Time\",\n\t  \"abbr\": \"CST\",\n\t  \"offset\": 8,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi\",\n\t  \"utc\": [\n\t\t\"Asia/Hong_Kong\",\n\t\t\"Asia/Macau\",\n\t\t\"Asia/Shanghai\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"North Asia Standard Time\",\n\t  \"abbr\": \"NAST\",\n\t  \"offset\": 8,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+08:00) Krasnoyarsk\",\n\t  \"utc\": [\n\t\t\"Asia/Krasnoyarsk\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Singapore Standard Time\",\n\t  \"abbr\": \"MPST\",\n\t  \"offset\": 8,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+08:00) Kuala Lumpur, Singapore\",\n\t  \"utc\": [\n\t\t\"Asia/Brunei\",\n\t\t\"Asia/Kuala_Lumpur\",\n\t\t\"Asia/Kuching\",\n\t\t\"Asia/Makassar\",\n\t\t\"Asia/Manila\",\n\t\t\"Asia/Singapore\",\n\t\t\"Etc/GMT-8\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"W. Australia Standard Time\",\n\t  \"abbr\": \"WAST\",\n\t  \"offset\": 8,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+08:00) Perth\",\n\t  \"utc\": [\n\t\t\"Antarctica/Casey\",\n\t\t\"Australia/Perth\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Taipei Standard Time\",\n\t  \"abbr\": \"TST\",\n\t  \"offset\": 8,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+08:00) Taipei\",\n\t  \"utc\": [\n\t\t\"Asia/Taipei\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Ulaanbaatar Standard Time\",\n\t  \"abbr\": \"UST\",\n\t  \"offset\": 8,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+08:00) Ulaanbaatar\",\n\t  \"utc\": [\n\t\t\"Asia/Choibalsan\",\n\t\t\"Asia/Ulaanbaatar\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"North Asia East Standard Time\",\n\t  \"abbr\": \"NAEST\",\n\t  \"offset\": 8,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+08:00) Irkutsk\",\n\t  \"utc\": [\n\t\t\"Asia/Irkutsk\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Japan Standard Time\",\n\t  \"abbr\": \"JST\",\n\t  \"offset\": 9,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+09:00) Osaka, Sapporo, Tokyo\",\n\t  \"utc\": [\n\t\t\"Asia/Dili\",\n\t\t\"Asia/Jayapura\",\n\t\t\"Asia/Tokyo\",\n\t\t\"Etc/GMT-9\",\n\t\t\"Pacific/Palau\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Korea Standard Time\",\n\t  \"abbr\": \"KST\",\n\t  \"offset\": 9,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+09:00) Seoul\",\n\t  \"utc\": [\n\t\t\"Asia/Pyongyang\",\n\t\t\"Asia/Seoul\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Cen. Australia Standard Time\",\n\t  \"abbr\": \"CAST\",\n\t  \"offset\": 9.5,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+09:30) Adelaide\",\n\t  \"utc\": [\n\t\t\"Australia/Adelaide\",\n\t\t\"Australia/Broken_Hill\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"AUS Central Standard Time\",\n\t  \"abbr\": \"ACST\",\n\t  \"offset\": 9.5,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+09:30) Darwin\",\n\t  \"utc\": [\n\t\t\"Australia/Darwin\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"E. Australia Standard Time\",\n\t  \"abbr\": \"EAST\",\n\t  \"offset\": 10,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+10:00) Brisbane\",\n\t  \"utc\": [\n\t\t\"Australia/Brisbane\",\n\t\t\"Australia/Lindeman\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"AUS Eastern Standard Time\",\n\t  \"abbr\": \"AEST\",\n\t  \"offset\": 10,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+10:00) Canberra, Melbourne, Sydney\",\n\t  \"utc\": [\n\t\t\"Australia/Melbourne\",\n\t\t\"Australia/Sydney\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"West Pacific Standard Time\",\n\t  \"abbr\": \"WPST\",\n\t  \"offset\": 10,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+10:00) Guam, Port Moresby\",\n\t  \"utc\": [\n\t\t\"Antarctica/DumontDUrville\",\n\t\t\"Etc/GMT-10\",\n\t\t\"Pacific/Guam\",\n\t\t\"Pacific/Port_Moresby\",\n\t\t\"Pacific/Saipan\",\n\t\t\"Pacific/Truk\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Tasmania Standard Time\",\n\t  \"abbr\": \"TST\",\n\t  \"offset\": 10,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+10:00) Hobart\",\n\t  \"utc\": [\n\t\t\"Australia/Currie\",\n\t\t\"Australia/Hobart\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Yakutsk Standard Time\",\n\t  \"abbr\": \"YST\",\n\t  \"offset\": 9,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+09:00) Yakutsk\",\n\t  \"utc\": [\n\t\t\"Asia/Chita\",\n\t\t\"Asia/Khandyga\",\n\t\t\"Asia/Yakutsk\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Central Pacific Standard Time\",\n\t  \"abbr\": \"CPST\",\n\t  \"offset\": 11,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+11:00) Solomon Is., New Caledonia\",\n\t  \"utc\": [\n\t\t\"Antarctica/Macquarie\",\n\t\t\"Etc/GMT-11\",\n\t\t\"Pacific/Efate\",\n\t\t\"Pacific/Guadalcanal\",\n\t\t\"Pacific/Kosrae\",\n\t\t\"Pacific/Noumea\",\n\t\t\"Pacific/Ponape\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Vladivostok Standard Time\",\n\t  \"abbr\": \"VST\",\n\t  \"offset\": 11,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+11:00) Vladivostok\",\n\t  \"utc\": [\n\t\t\"Asia/Sakhalin\",\n\t\t\"Asia/Ust-Nera\",\n\t\t\"Asia/Vladivostok\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"New Zealand Standard Time\",\n\t  \"abbr\": \"NZST\",\n\t  \"offset\": 12,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+12:00) Auckland, Wellington\",\n\t  \"utc\": [\n\t\t\"Antarctica/McMurdo\",\n\t\t\"Pacific/Auckland\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"UTC+12\",\n\t  \"abbr\": \"U\",\n\t  \"offset\": 12,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+12:00) Coordinated Universal Time+12\",\n\t  \"utc\": [\n\t\t\"Etc/GMT-12\",\n\t\t\"Pacific/Funafuti\",\n\t\t\"Pacific/Kwajalein\",\n\t\t\"Pacific/Majuro\",\n\t\t\"Pacific/Nauru\",\n\t\t\"Pacific/Tarawa\",\n\t\t\"Pacific/Wake\",\n\t\t\"Pacific/Wallis\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Fiji Standard Time\",\n\t  \"abbr\": \"FST\",\n\t  \"offset\": 12,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+12:00) Fiji\",\n\t  \"utc\": [\n\t\t\"Pacific/Fiji\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Magadan Standard Time\",\n\t  \"abbr\": \"MST\",\n\t  \"offset\": 12,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+12:00) Magadan\",\n\t  \"utc\": [\n\t\t\"Asia/Anadyr\",\n\t\t\"Asia/Kamchatka\",\n\t\t\"Asia/Magadan\",\n\t\t\"Asia/Srednekolymsk\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Kamchatka Standard Time\",\n\t  \"abbr\": \"KDT\",\n\t  \"offset\": 13,\n\t  \"isdst\": true,\n\t  \"text\": \"(UTC+12:00) Petropavlovsk-Kamchatsky - Old\",\n\t  \"utc\": [\n\t\t\"Asia/Kamchatka\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Tonga Standard Time\",\n\t  \"abbr\": \"TST\",\n\t  \"offset\": 13,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+13:00) Nuku'alofa\",\n\t  \"utc\": [\n\t\t\"Etc/GMT-13\",\n\t\t\"Pacific/Enderbury\",\n\t\t\"Pacific/Fakaofo\",\n\t\t\"Pacific/Tongatapu\"\n\t  ]\n\t},\n\t{\n\t  \"value\": \"Samoa Standard Time\",\n\t  \"abbr\": \"SST\",\n\t  \"offset\": 13,\n\t  \"isdst\": false,\n\t  \"text\": \"(UTC+13:00) Samoa\",\n\t  \"utc\": [\n\t\t\"Pacific/Apia\"\n\t  ]\n\t}\n  ]","import axios from 'axios';\n\nconst mboProxyInstance = axios.create({\n    baseURL: \"https://test.fitnessplayground.com.au/v1/mbo/\",\n    headers: { \"x-fp-authorization\": \"CgnkHCLoAiXgGdfB9ykLQwOERMT2\" }\n})\n\nexport default mboProxyInstance;\n","import {\n  IonApp,\n  IonContent,\n  IonHeader,\n  IonTitle,\n  IonToolbar,\n  IonButton,\n  IonItem,\n  IonLabel,\n  IonText,\n  IonCard,\n  IonCardHeader,\n  IonCardTitle,\n  IonCardContent,\n  IonCardSubtitle,\n  IonItemGroup,\n  IonRow,\n  IonGrid,\n  IonCol,\n  IonIcon,\n  IonAlert,\n  IonList,\n  IonModal,\n  IonLoading,\n  IonToast,\n  IonFabButton,\n  IonFab,\n  IonInput,\n  IonSelect,\n  IonSelectOption,\n  IonNote\n} from '@ionic/react';\nimport { informationCircleOutline as infoIcon, bookmarkSharp as editIcon, createSharp as emailIcon, add as addIcon, remove as removeIcon, close as closeIcon, checkmark as tickIcon, cloudUploadSharp as saveIcon } from 'ionicons/icons';\nimport React, { useState, useEffect, useReducer } from 'react';\nimport { auth, firestore } from '../firebase';\nimport { useAuth } from '../auth';\nimport { NoShowClient, toNoShowClient, timezones, Timezone } from '../models/NoShowClient';\nimport mboProxyInstance from '../mbo-proxy-axios';\n\n\nconst SettingsPage: React.FC = () => {\n\n  const { userId } = useAuth();\n  const [client_document_id, setClientDocumentId] = useState('');\n  const [no_show_client, setNoShowClient] = useState<NoShowClient>();\n\n  const [status, setStatus] = useState({ loading: true, error: false });\n  const [alertState, setAlertState] = useState(false)\n  const [showToast, setShowToast] = useState(false)\n  const [showMboSessionTypesModal, setShowMboSessionTypesModal] = useState(false);\n  const [showMboServiceModal, setShowMboServiceModal] = useState(false);\n  const [showLocationPreferences, setShowLocationPreferences] = useState(false)\n  const [showEmails, setShowEmails] = useState(false);\n  const [updateServiceType, setUpdateServiceType] = useState('') //No Show Product or Late Cancel Product\n\n  const [show_mbo_no_show_product_id_info, setShowMboNoShowProductIdInfo] = useState(false);\n  const [show_no_show_forgive_frequency_info, setShowNoShowForgiveFrequencyInfo] = useState(false)\n  const [show_no_show_forgive_min_info, setShowNoShowForgiveMinInfo] = useState(false)\n  const [show_no_show_forgive_max_info, setShowNoShowForgiveMaxInfo] = useState(false)\n\n  const [show_mbo_late_cancel_product_id_info, setMboLateCancelProductIdInfo] = useState(false)\n  const [show_late_cancel_forgive_frequency_info, setShowLateCancelForgiveFrequencyInfo] = useState(false)\n  const [show_late_cancel_forgive_min_info, setShowLateCancelForgiveMinInfo] = useState(false)\n  const [show_late_cancel_forgive_max_info, setShowLateCancelForgiveMaxInfo] = useState(false)\n\n  const [show_timezone_info, setShowTimezoneInfo] = useState(false)\n  const [show_offense_to_billing_hold_days_info, setShowOffenseToBillingHoldDaysInfo] = useState(false)\n  const [show_is_billing_info, setShowIsBillingInfo] = useState(false);\n  const [show_will_send_comms_info, setShowWillSendCommsInfo] = useState(false);\n  // const [show_is_test_info, setShowIsTestInfo] = useState(false)\n  const [show_is_pre_launch_info, setShowIsPreLaunchInfo] = useState(false)\n  const [show_class_black_list_info, setShowClassBlackListInfo] = useState(false)\n\n  const [show_charge_non_members_info, setShowChargeNonMembersInfo] = useState(false);\n\n\n  const [tz, setTz] = useState<Timezone>()\n\n  useEffect(() => {\n    // console.log('\\n\\n[SettingsPage].useEffect() Get No Show Client')\n    const entryRef = firestore.collection('users').doc(userId).collection('NoShowClient')\n    return entryRef.limit(1).onSnapshot(({ docs }) => {\n      setClientDocumentId(docs[0].id)\n      setNoShowClient(toNoShowClient(docs[0]))\n    });\n  }, [userId]);\n\n  useEffect(() => {\n    if (typeof no_show_client === 'undefined') {\n      setStatus({ loading: true, error: false })\n    } else {\n      setStatus({ loading: false, error: false })\n      setTz({ ...no_show_client.billing_timezone })\n    }\n\n  }, [no_show_client])\n\n  useEffect(() => {\n    if (typeof no_show_client != 'undefined') {\n      dispatch({ type: 'billing_timezone_change', payload: tz })\n    }\n  }, [tz, no_show_client])\n\n  const initialState = {\n    subscription_status: 'DEFAULT',\n    mbo_site_id: 123456789,\n\n    mbo_no_show_product_id: '987654321',\n    mbo_no_show_product_name: 'No Show Fee Needed',\n    mbo_no_show_product_amount: 10.00,\n\n    no_show_forgive_frequency: 'monthly',\n    no_show_forgive_min: 0,\n    no_show_forgive_max: 20,\n\n    mbo_late_cancel_product_id: '-987654321',\n    mbo_late_cancel_product_name: 'Late Cancel Fee Needed',\n    mbo_late_cancel_product_amount: 0.00,\n\n    late_cancel_forgive_frequency: 'weekly',\n    late_cancel_forgive_min: 0,\n    late_cancel_forgive_max: 20,\n\n    is_pre_launch: true,\n    is_test: true,\n    offense_to_billing_hold_days: 7,\n    locations: [],\n    class_black_list: [],\n    mbo_services: null,\n    mbo_session_types: null,\n\n\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  // This is ascending order\n  function mboNameComparator(a, b) {\n    if (a.Name < b.Name) {\n      return -1;\n    }\n    if (a.Name > b.Name) {\n      return 1;\n    }\n    return 0;\n  }\n\n  function reducer(state, action) {\n    // console.log(\"[SettingsPage.reducer()] state: \" + JSON.stringify(state) + \"\\naction: \" + JSON.stringify(action))\n    var word = '';\n    var number = 0;\n\n    switch (action.type) {\n      case 'set_mbo_services':\n        // console.log('[SettingsPage] set_mbo_services', action.payload.data)\n        const uniqueService = [];\n        action.payload.data.map(x => uniqueService.filter(\n          a => a.Id === x.Id).length > 0\n          ? null\n          : uniqueService.push(x));\n        uniqueService.sort(mboNameComparator)\n        // console.log('[SettingsPage] filterd', unique)\n        state.mbo_services = uniqueService\n        return { ...state }\n      case 'set_mbo_session_types':\n        const uniqueSessionTypes = [];\n        action.payload.data.map(x => uniqueSessionTypes.filter(\n          a => a.Id === x.Id).length > 0\n          ? null\n          : uniqueSessionTypes.push(x));\n        uniqueSessionTypes.sort(mboNameComparator)\n        // console.log('[SettingsPage] filterd', uniqueSessionTypes)\n        state.mbo_session_types = uniqueSessionTypes\n        return { ...state }\n      case 'mbo_no_show_service_change':\n        no_show_client.mbo_no_show_product_id = action.payload.Id;\n        no_show_client.mbo_no_show_product_name = action.payload.Name;\n        no_show_client.mbo_no_show_product_amount = action.payload.Price\n        return { ...state }\n      case 'mbo_late_cancel_service_change':\n        no_show_client.mbo_late_cancel_product_id = action.payload.Id;\n        no_show_client.mbo_late_cancel_product_name = action.payload.Name;\n        no_show_client.mbo_late_cancel_product_amount = action.payload.Price;\n        return { ...state }\n      case 'no_show_forgive_frequency_change':\n        word = no_show_client.no_show_forgive_frequency.toLowerCase() === 'weekly' ? 'Monthly' : 'Weekly';\n        no_show_client.no_show_forgive_frequency = word;\n        return { ...state }\n      case 'no_show_forgive_min_increment':\n        number = no_show_client.no_show_forgive_min < 100 ? no_show_client.no_show_forgive_min + 1 : 100;\n        no_show_client.no_show_forgive_min = number;\n        return { ...state };\n      case 'no_show_forgive_min_decrement':\n        number = no_show_client.no_show_forgive_min > 0 ? no_show_client.no_show_forgive_min - 1 : 0;\n        no_show_client.no_show_forgive_min = number;\n        return { ...state };\n      case 'no_show_forgive_max_increment':\n        number = no_show_client.no_show_forgive_max < 100 ? no_show_client.no_show_forgive_max + 1 : 100;\n        no_show_client.no_show_forgive_max = number;\n        return { ...state };\n      case 'no_show_forgive_max_decrement':\n        number = no_show_client.no_show_forgive_max > 0 ? no_show_client.no_show_forgive_max - 1 : 0;\n        no_show_client.no_show_forgive_max = number;\n        return { ...state };\n      case 'late_cancel_forgive_frequency_change':\n        word = no_show_client.late_cancel_forgive_frequency.toLowerCase() === 'weekly' ? 'Monthly' : 'Weekly';\n        no_show_client.late_cancel_forgive_frequency = word;\n        return { ...state }\n      case 'late_cancel_forgive_min_increment':\n        number = no_show_client.late_cancel_forgive_min < 100 ? no_show_client.late_cancel_forgive_min + 1 : 100;\n        no_show_client.late_cancel_forgive_min = number;\n        return { ...state };\n      case 'late_cancel_forgive_min_decrement':\n        number = no_show_client.late_cancel_forgive_min > 0 ? no_show_client.late_cancel_forgive_min - 1 : 0;\n        no_show_client.late_cancel_forgive_min = number\n        return { ...state };\n      case 'late_cancel_forgive_max_increment':\n        number = no_show_client.late_cancel_forgive_max < 100 ? no_show_client.late_cancel_forgive_max + 1 : 100;\n        no_show_client.late_cancel_forgive_max = number;\n        return { ...state };\n      case 'late_cancel_forgive_max_decrement':\n        number = no_show_client.late_cancel_forgive_max > 0 ? no_show_client.late_cancel_forgive_max - 1 : 0;\n        no_show_client.late_cancel_forgive_max = number;\n        return { ...state };\n      case 'is_pre_launch_change':\n        no_show_client.is_pre_launch = !no_show_client.is_pre_launch;\n        return { ...state };\n      case 'is_test_change':\n        no_show_client.is_test = !no_show_client.is_test;\n        return { ...state }\n      case 'offense_to_billing_hold_days_increment':\n        number = no_show_client.offense_to_billing_hold_days < 14 ? no_show_client.offense_to_billing_hold_days + 1 : 14;\n        no_show_client.offense_to_billing_hold_days = number;\n        return { ...state };\n      case 'offense_to_billing_hold_days_decrement':\n        number = no_show_client.offense_to_billing_hold_days > 0 ? no_show_client.offense_to_billing_hold_days - 1 : 0;\n        no_show_client.offense_to_billing_hold_days = number;\n        return { ...state };\n      case 'will_run_billing_change':\n        no_show_client.locations.map(location => {\n          if (location.location_id === action.payload.location_id) {\n            location.is_billing = !location.is_billing\n          }\n          return location;\n        })\n        return { ...state }\n      case 'class_black_list_change':\n        // console.log('\\n\\nclass_black_list_change', action.payload)\n        var found = no_show_client.class_black_list.find(item => item.session_type_id === action.payload.class_session_id);\n        if (typeof found === 'undefined') {\n          no_show_client.class_black_list.push({ session_type_name: action.payload.class_session_name, session_type_id: action.payload.class_session_id });\n        } else {\n          no_show_client.class_black_list = no_show_client.class_black_list.filter(item => item.session_type_id !== action.payload.class_session_id)\n        }\n        return { ...state }\n      case 'location_name_alias_change':\n        no_show_client.locations.map(location => {\n          if (location.location_id === action.payload.location_id) {\n            location.location_name_alias = action.payload.location_name_alias\n          }\n          return location\n        })\n        // console.log(word)\n        return { ...state }\n      case 'location_name_abbreviated_change':\n        word = action.payload.location_name_abbreviated.substring(0, 2).toUpperCase()\n        no_show_client.locations.map(location => {\n          if (location.location_id === action.payload.location_id) {\n            location.location_name_abbreviated = word\n          }\n          return location\n        })\n        // console.log(no_show_client.locations)\n        return { ...state }\n      case 'location_manager_name_change':\n        no_show_client.locations.map(location => {\n          if (location.location_id === action.payload.location_id) {\n            location.location_manager_name = action.payload.location_manager_name\n          }\n          return location\n        })\n        // console.log(word)\n        return { ...state }\n\n      case 'location_will_send_comms_change':\n        // console.log('location_will_send_comms_change', action)\n        no_show_client.locations.map(location => {\n          if (location.location_id === action.payload.location_id) {\n            location.will_send_comms = !location.will_send_comms\n          }\n          return location\n        })\n        return { ...state }\n\n      case 'billing_timezone_change':\n        // console.log('billing_timezone_change', action)\n        no_show_client.billing_timezone = { ...action.payload }\n        // set\n        return { ...state }\n\n      case 'update_will_charge_non_members':\n        no_show_client.will_charge_non_members = !no_show_client.will_charge_non_members\n        return { ...state }\n\n      default:\n        throw new Error();\n    }\n\n  }\n\n  const openMboServiceUpdate = (updateType: string) => {\n    // console.log('[SettingsPage] openMboServiceUpdate')\n    setUpdateServiceType(updateType);\n    setShowMboServiceModal(true);\n    getMboServices();\n\n  }\n\n  const closeMboServiceUpdate = (service) => {\n    if (service !== null && updateServiceType === 'no_show_service_update') {\n      // console.log('no_show_service_update: ', service)\n      dispatch({ type: \"mbo_no_show_service_change\", payload: service })\n    }\n    if (service !== null && updateServiceType === 'late_cancel_service_update') {\n      // console.log('mbo_late_cancel_service_change: ', service)\n      dispatch({ type: \"mbo_late_cancel_service_change\", payload: service })\n    }\n    setUpdateServiceType('');\n    setShowMboServiceModal(false)\n  }\n\n  const handleClassBlackListUpdate = (session_type) => {\n    dispatch({\n      type: \"class_black_list_change\", payload: {\n        class_session_id: session_type.Id,\n        class_session_name: session_type.Name\n      }\n    })\n  }\n\n  const handleUpdate = () => {\n    // console.log(\"[SettingsPage.handleUpdate()] noShowClient: \", no_show_client)\n    setAlertState(true)\n  }\n\n  const processUpdate = async () => {\n    setAlertState(false)\n    setStatus({ loading: true, error: false })\n\n    const entryRef = firestore.collection('users').doc(userId).collection('NoShowClient').doc(client_document_id)\n\n    return await entryRef.set({ ...no_show_client })\n      .then(function () {\n        console.log(\"Document successfully updated!\");\n        setStatus({ loading: false, error: false })\n        setShowToast(true)\n      })\n      .catch(function (error) {\n        // The document probably doesn't exist.\n        console.error(\"Error updating document: \", error);\n        setStatus({ loading: false, error: true })\n      });\n  }\n\n  const getMboServices = async () => {\n    setStatus({ loading: true, error: false })\n    if (state.mbo_services === null) {\n      return await mboProxyInstance.get(`services/${no_show_client?.mbo_site_id}`, {\n      }).then(function (response) {\n        dispatch({ type: \"set_mbo_services\", payload: response })\n        setStatus({ loading: false, error: false })\n      }).catch(function (error) {\n        console.error(\"Error getting Mbo Services: \", error);\n        setStatus({ loading: false, error: true })\n      });\n    } else {\n      setStatus({ loading: false, error: false })\n      return;\n    }\n  }\n\n  const openMboSessionTypesUpdate = () => {\n    // console.log('[SettingsPage] openMboSessionTypesUpdate')\n    setShowMboSessionTypesModal(true);\n    getMboSesionTypes();\n  }\n\n  const getMboSesionTypes = async () => {\n    setStatus({ loading: true, error: false })\n    if (state.mbo_session_types === null) {\n      return await mboProxyInstance.get(`sessionTypes/${no_show_client?.mbo_site_id}`, {\n      }).then((response) => {\n        dispatch({ type: \"set_mbo_session_types\", payload: response })\n        setStatus({ loading: false, error: false })\n      }).catch((error) => {\n        console.error(\"Error getting Mbo Session Types\", error)\n        setStatus({ loading: false, error: true })\n      })\n    } else {\n      setStatus({ loading: false, error: false })\n      return;\n    }\n  }\n\n  return (\n    <IonApp>\n\n      <IonFab vertical=\"bottom\" horizontal=\"end\">\n        <IonFabButton onClick={handleUpdate}>\n          <IonIcon icon={saveIcon} />\n        </IonFabButton>\n      </IonFab>\n\n      <IonToast\n        isOpen={showToast}\n        position=\"top\"\n        onDidDismiss={() => setShowToast(false)}\n        message=\"Your settings have been saved.\"\n        duration={2000}\n      />\n\n      {/* Update NoShowClient Warning */}\n      <IonAlert\n        isOpen={alertState}\n        onDidDismiss={() => setAlertState(false)}\n        header={'Are you sure?'}\n        // subHeader={'Press confirm to update.'}\n        message={'Press confirm to update.'}\n        buttons={[{\n          text: 'Cancel',\n        },\n        {\n          text: 'Confirm',\n          role: 'update',\n          handler: () => { processUpdate() }\n        }]}\n      />\n\n      {/* Update Mindbody Service Modal */}\n      <IonModal\n        isOpen={showMboServiceModal}\n        onDidDismiss={() => closeMboServiceUpdate(null)}\n      >\n        <IonToolbar>\n          <IonButton\n            slot=\"end\"\n            color=\"primary\"\n            fill=\"clear\"\n            onClick={() => closeMboServiceUpdate(null)}>\n            <IonIcon slot=\"icon-only\" icon={closeIcon} /></IonButton>\n          <IonTitle class=\"ion-text-capitalize\">{`${updateServiceType.replace(/_/g, ' ')}`}</IonTitle>\n        </IonToolbar>\n\n        {status.loading ? null :\n          <IonContent className=\"ion-padding\">\n            <IonList>{state.mbo_services?.map((service) =>\n              <IonItem key={`${service.Id}-${service.Name}`}\n                button onClick={() => closeMboServiceUpdate(service)}>\n                <IonLabel className=\"ion-text-wrap\"\n                  color={(updateServiceType === 'no_show_service_update' && service.Id === no_show_client?.mbo_no_show_product_id)\n                    || (updateServiceType === 'late_cancel_service_update' && service.Id === no_show_client?.mbo_late_cancel_product_id)\n                    ? \"success\" : \"default\"}>\n                  <h2>{service.Name}</h2>\n                  <h3>${service.Price.toFixed(2)}</h3>\n                </IonLabel>{\n                  (updateServiceType === 'no_show_service_update' && service.Id === no_show_client?.mbo_no_show_product_id)\n                    || (updateServiceType === 'late_cancel_service_update' && service.Id === no_show_client?.mbo_late_cancel_product_id)\n                    ? <IonIcon slot=\"end\" color=\"success\" icon={tickIcon}\n                    /> : null\n                }\n              </IonItem>\n            )}</IonList>\n            <IonButton expand=\"block\" color=\"primary\" fill=\"solid\" onClick={() => closeMboServiceUpdate(null)}>Close</IonButton>\n          </IonContent>\n        }\n      </IonModal>\n\n      {/* Update Mindbody SessionTypes Modal */}\n      <IonModal\n        isOpen={showMboSessionTypesModal}\n        onDidDismiss={() => setShowMboSessionTypesModal(false)}>\n        <IonToolbar>\n          <IonButton\n            slot=\"end\"\n            color=\"primary\"\n            fill=\"clear\"\n            onClick={() => setShowMboSessionTypesModal(false)}>\n            <IonIcon slot=\"icon-only\" icon={closeIcon} /></IonButton>\n          <IonTitle className=\"ion-text-wrap\">Mindbody Session Types</IonTitle>\n        </IonToolbar>\n        {status.loading ? null :\n          <IonContent className=\"ion-padding\">\n            <IonList>{state.mbo_session_types?.map((session_type) =>\n              <IonItem key={`${session_type.Id}-${session_type.Name}`}\n                button onClick={() => handleClassBlackListUpdate(session_type)}>\n                <IonLabel className=\"ion-text-wrap\"\n                  color={\n                    no_show_client?.class_black_list.find(item => item.session_type_id === session_type.Id)\n                      ? \"success\" : \"default\"\n                  }>\n                  <h2>{session_type.Name}</h2>\n                  <p>{session_type.Id}</p>\n\n                </IonLabel>\n                {\n                  no_show_client?.class_black_list.find(item => item.session_type_id === session_type.Id)\n                    ? <IonIcon slot=\"end\" color=\"success\" icon={tickIcon} />\n                    : <IonIcon slot=\"end\" color=\"primary\" icon={addIcon} /> // Add Item to class_black_list\n                }\n              </IonItem>\n            )}</IonList>\n            <IonButton expand=\"block\" color=\"primary\" fill=\"solid\" onClick={() => setShowMboSessionTypesModal(false)}>Close</IonButton>\n          </IonContent>\n        }\n      </IonModal>\n\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Settings</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        <IonGrid fixed>\n          <IonRow>\n            <IonCol>\n              <IonCard>\n                <IonCardHeader>\n                  <IonCardTitle color={no_show_client?.subscription_status === 'ACTIVE' ? 'success' : 'danger'}>{no_show_client?.subscription_status}</IonCardTitle>\n                  <IonCardSubtitle>\n                    <IonText>{no_show_client?.mbo_site_id}</IonText>\n                  </IonCardSubtitle>\n                </IonCardHeader>\n                <IonCardContent>\n                  <IonItemGroup>\n                    {/* <IonItem button routerLink={`/v1/email`}> */}\n                    <IonItem button onClick={() => setShowEmails(!showEmails)}>\n                      <IonLabel color=\"primary\">Emails</IonLabel>\n                      <IonIcon\n                        slot=\"start\"\n                        color={showEmails ? \"primary\" : \"primary\"}\n                        icon={showEmails ? closeIcon : emailIcon} />\n                    </IonItem>\n\n                    {!showEmails ? null :\n                      <IonList>\n                        <IonItemGroup>\n                          <IonItem button routerLink={`/v1/settings/comms/pre_launch_warning_email`}><IonLabel class=\"ion-text-capitalize\">pre-launch warning</IonLabel></IonItem>\n                          <IonItem button routerLink={`/v1/settings/comms/late_cancel_warning_email`}><IonLabel class=\"ion-text-capitalize\">late cancel warning</IonLabel></IonItem>\n                          <IonItem button routerLink={`/v1/settings/comms/late_cancel_charge_email`}><IonLabel class=\"ion-text-capitalize\">late cancel charge</IonLabel></IonItem>\n                          <IonItem button routerLink={`/v1/settings/comms/no_show_warning_email`}><IonLabel class=\"ion-text-capitalize\">no show warning</IonLabel></IonItem>\n                          <IonItem button routerLink={`/v1/settings/comms/no_show_charge_email`}><IonLabel class=\"ion-text-capitalize\">no show charge</IonLabel></IonItem>\n                        </IonItemGroup>\n                      </IonList>\n                    }\n\n                    <IonItem button onClick={() => setShowLocationPreferences(!showLocationPreferences)}>\n                      <IonLabel color=\"primary\">Location Preferrences</IonLabel>\n                      <IonIcon\n                        slot=\"start\"\n                        color={showLocationPreferences ? \"primary\" : \"primary\"}\n                        icon={showLocationPreferences ? closeIcon : emailIcon}\n                      />\n                    </IonItem>\n                  </IonItemGroup>\n\n                  {/* Locations */}\n                  {!showLocationPreferences ? null :\n                    <IonItemGroup>\n                      {\n                        no_show_client?.locations.map((location, index) =>\n                          <IonGrid key={`${location.location_id}-${location.location_name}`}>\n                            <IonRow><IonCol><IonLabel>{`${location.location_name}`}</IonLabel></IonCol></IonRow>\n                            <IonRow>\n                              {/* <IonItem key={`${location.location_id}-${location.location_name}`}> */}\n                              <IonCol>\n                                <IonItem>\n                                  <IonLabel position=\"stacked\">Alias</IonLabel>\n                                  <IonInput\n                                    type=\"text\"\n                                    value={location.location_name_alias}\n                                    onIonChange={(event) => dispatch({ type: 'location_name_alias_change', payload: { location_id: location.location_id, location_name_alias: event.detail.value } })}></IonInput>\n                                </IonItem>\n                              </IonCol>\n                              <IonCol>\n                                <IonItem>\n                                  <IonLabel position=\"stacked\">Abbreviation</IonLabel>\n                                  <IonInput\n                                    type=\"text\"\n                                    value={no_show_client?.locations[index].location_name_abbreviated}\n                                    onIonChange={(event) => dispatch({ type: 'location_name_abbreviated_change', payload: { location_id: location.location_id, location_name_abbreviated: event.detail.value } })}></IonInput>\n                                </IonItem>\n                              </IonCol>\n                            </IonRow>\n                            <IonRow>\n                              <IonCol>\n                                <IonItem>\n                                  <IonLabel position=\"stacked\">Manager</IonLabel>\n                                  <IonInput\n                                    type=\"text\"\n                                    placeholder=\"Who is the manager?\"\n                                    value={no_show_client?.locations[index].location_manager_name}\n                                    onIonChange={(event) => dispatch({ type: 'location_manager_name_change', payload: { location_id: location.location_id, location_manager_name: event.detail.value } })}></IonInput>\n                                </IonItem>\n                              </IonCol>\n                            </IonRow>\n                          </IonGrid>\n                        )\n                      }\n                      <IonButton expand=\"block\" fill=\"clear\" onClick={() => setShowLocationPreferences(false)}>Close</IonButton>\n                    </IonItemGroup>\n                  }\n                </IonCardContent>\n              </IonCard>\n            </IonCol>\n          </IonRow>\n          {/* No Show Configuration Options */}\n          <IonRow class=\"ion-align-items-center\">\n            <IonCol size=\"12\" size-md=\"6\">\n              <IonCard>\n                <IonCardHeader>\n                  <IonCardTitle color=\"secondary\">No Show</IonCardTitle>\n                </IonCardHeader>\n                <IonCardContent>\n                  <IonItemGroup>\n\n                    {/* No Show: Product Id */}\n                    <IonItem onClick={() => setShowMboNoShowProductIdInfo(!show_mbo_no_show_product_id_info)}>\n                      <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      <IonCardSubtitle>Mindbody Online Service</IonCardSubtitle>\n                    </IonItem>\n\n                    {/* Information Element: show_mbo_no_show_product_id */}\n                    {show_mbo_no_show_product_id_info ?\n                      <IonItem onClick={() => setShowMboNoShowProductIdInfo(!show_mbo_no_show_product_id_info)}>\n                        {/* <IonItem> */}\n                        <IonNote class=\"ion-padding-start\">\n                          <h5>This is the <b>Mindbody Online Serivce</b> that is to applied to the <b>Clients Account</b> for a <u><b>No Show Charge</b></u>.</h5>\n                          <hr />\n                          <p>You can set the price, name and other attributes in your Mindbody Online account.</p>\n                          <hr />\n                          <p><u>Note</u>: any changes made to this Serivce via Mindbody Online will be automatically applied.</p>\n                          <hr />\n                          <p>That is to say, if you change the price of the No Show Service in Mindbody Online the new updated price will be applied for a No Show Charge.</p>\n                        </IonNote>\n                      </IonItem>\n                      : null}\n\n                    {/* Input: mbo_no_show_product_id */}\n                    <IonItem key={no_show_client?.mbo_no_show_product_id}\n                      button onClick={() => openMboServiceUpdate('no_show_service_update')}>\n                      {/* <IonText><strong>${state.mbo_no_show_product_amount} {state.mbo_no_show_product_name}</strong></IonText> */}\n                      <IonLabel color=\"default\" className=\"ion-text-wrap\">\n                        <h2>{no_show_client?.mbo_no_show_product_name}</h2>\n                        <h3>${no_show_client?.mbo_no_show_product_amount.toFixed(2)}</h3>\n                      </IonLabel>\n                      <IonIcon slot=\"start\" color=\"secondary\" icon={editIcon} />\n                    </IonItem>\n\n                    {/* No Show: Forgive Reset Cycle */}\n                    <IonItem onClick={() => setShowNoShowForgiveFrequencyInfo(!show_no_show_forgive_frequency_info)}>\n                      <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      <IonCardSubtitle>Forgive Reset Frequency</IonCardSubtitle>\n                    </IonItem>\n\n                    {/* Information Element: no_show_forgive_frequency */}\n                    {show_no_show_forgive_frequency_info ?\n                      <IonItem onClick={() => setShowNoShowForgiveFrequencyInfo(!show_no_show_forgive_frequency_info)}>\n                        <IonNote class=\"ion-padding-start\">\n\n                          <h5>This is the <b>Length of Time</b> for each <b>Forgive Cycle Period</b>.</h5>\n                          <hr />\n                          <p><u>Note</u>: can be <em>Every Week</em> <b>or</b> <em>Every Month</em>.</p>\n                          <hr />\n                          <p>That is to say, if this value is <em>Every Month</em>, the number of No Shows forgiven resets to 0 on the 1<sup>st</sup> of every month</p>\n                        </IonNote>\n                      </IonItem>\n                      : null}\n\n                    {/* Input: no_show_forgive_frequency */}\n                    <IonGrid>\n                      <IonRow class=\"ion-align-items-center\">\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            color=\"secondary\"\n                            fill={no_show_client?.no_show_forgive_frequency.toLowerCase() === 'weekly' ? 'solid' : \"outline\"}\n                            onClick={() => dispatch({ type: 'no_show_forgive_frequency_change' })}>\n                            Every Week\n                          </IonButton>\n                        </IonCol>\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            color=\"secondary\"\n                            fill={no_show_client?.no_show_forgive_frequency.toLowerCase() === 'monthly' ? 'solid' : \"outline\"}\n                            onClick={() => dispatch({ type: 'no_show_forgive_frequency_change' })}>\n                            Every Month\n                          </IonButton>\n                        </IonCol>\n                      </IonRow>\n                    </IonGrid>\n\n                    {/* No Show: Number Of Forgives */}\n                    <IonItem onClick={() => setShowNoShowForgiveMinInfo(!show_no_show_forgive_min_info)}>\n                      <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      <IonCardSubtitle>Number of Forgives</IonCardSubtitle>\n                    </IonItem>\n\n                    {/* Information Element: no_show_forgive_min */}\n                    {show_no_show_forgive_min_info ?\n                      <IonItem onClick={() => setShowNoShowForgiveMinInfo(!show_no_show_forgive_min_info)}>\n                        <IonNote class=\"ion-padding-start\">\n                          <h5>A <b>No Show Charge</b> will <b><u>not</u></b> be applied <b><u>if</u></b> the number of times the Client <b>has</b> No Showed <b>is</b> <b>less than or equal</b> this value.</h5>\n                          <hr />\n                          <p><u>Note</u>: this resets to 0 every week or month depending on the <b>No Show Forgive Reset Cycle</b>.</p>\n                          <hr />\n                          <p>That is to say, if this value is 1, the first No Show will be forgiven but every No Show after this will be charged.</p>\n                        </IonNote>\n                      </IonItem>\n                      : null}\n\n                    {/* Input: no_show_forgive_min */}\n                    <IonGrid>\n                      <IonRow class=\"ion-align-items-center\">\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            color=\"secondary\"\n                            fill=\"outline\"\n                            onClick={() => dispatch({ type: 'no_show_forgive_min_decrement' })}>\n                            <IonIcon icon={removeIcon} />\n                          </IonButton>\n                        </IonCol>\n                        <IonCol>\n                          <IonText class=\"ion-text-center\"><h1>{no_show_client?.no_show_forgive_min}</h1></IonText>\n                        </IonCol>\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            color=\"secondary\"\n                            fill=\"outline\"\n                            onClick={() => dispatch({ type: 'no_show_forgive_min_increment' })}>\n                            <IonIcon icon={addIcon} />\n                          </IonButton>\n                        </IonCol>\n                      </IonRow>\n                    </IonGrid>\n\n                    {/* No Show: Max Number Of Charges */}\n                    <IonItem onClick={() => setShowNoShowForgiveMaxInfo(!show_no_show_forgive_max_info)}>\n                      <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      <IonCardSubtitle>Maximum Number of Charges</IonCardSubtitle>\n                    </IonItem>\n\n                    {/* Information Element: no_show_forgive_max */}\n                    {show_no_show_forgive_max_info ?\n                      <IonItem onClick={() => setShowNoShowForgiveMaxInfo(!show_no_show_forgive_max_info)}>\n                        <IonNote class=\"ion-padding-start\">\n                          <h5>A <b>No Show Charge</b> will <b><u>not</u></b> be applied <b><u>if</u></b> the number of times the Client <b>has</b> No Showed <b>is</b> <b>more than or equal</b> this value.</h5>\n                          <hr />\n                          <p>That is to say, if this value is 10, the 10<sup>th</sup> No Show and every No Show after will be forgiven.</p>\n                        </IonNote>\n                      </IonItem>\n                      : null}\n\n                    {/* Input: no_show_forgive_max */}\n                    <IonGrid>\n                      <IonRow class=\"ion-align-items-center\">\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            color=\"secondary\"\n                            fill=\"outline\"\n                            onClick={() => dispatch({ type: 'no_show_forgive_max_decrement' })}>\n                            <IonIcon icon={removeIcon} />\n                          </IonButton>\n                        </IonCol>\n                        <IonCol>\n                          <IonText class=\"ion-text-center\"><h1>{no_show_client?.no_show_forgive_max}</h1></IonText>\n                        </IonCol>\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            color=\"secondary\"\n                            fill=\"outline\"\n                            onClick={() => dispatch({ type: 'no_show_forgive_max_increment' })}>\n                            <IonIcon icon={addIcon} />\n                          </IonButton>\n                        </IonCol>\n                      </IonRow>\n                    </IonGrid>\n                  </IonItemGroup>\n                </IonCardContent>\n              </IonCard>\n            </IonCol>\n\n            {/* Late Cancellation Configuration Options */}\n            <IonCol size=\"12\" size-md=\"6\">\n              <IonCard>\n                <IonCardHeader>\n                  <IonCardTitle color=\"tertiary\">Late Cancellation</IonCardTitle>\n                </IonCardHeader>\n                <IonCardContent>\n                  <IonItemGroup>\n\n                    {/* Late Cancel: Product Id */}\n                    <IonItem onClick={() => setMboLateCancelProductIdInfo(!show_mbo_late_cancel_product_id_info)}>\n                      <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      <IonCardSubtitle>Mindbody Online Service</IonCardSubtitle>\n                    </IonItem>\n\n                    {/* Information Element: mbo_late_cancel_product_id */}\n                    {show_mbo_late_cancel_product_id_info ?\n                      <IonItem onClick={() => setMboLateCancelProductIdInfo(!show_mbo_late_cancel_product_id_info)}>\n                        {/* <IonItem> */}\n                        <IonNote class=\"ion-padding-start\">\n                          <h5>This is the <b>Mindbody Online Serivce</b> that is to applied to the <b>Clients Account</b> for a <u><b>Late Cancel Charge</b></u>.</h5>\n                          <hr />\n                          <p>You can set the price, name and other attributes in your Mindbody Online account.</p>\n                          <hr />\n                          <p><u>Note</u>: any changes made to this Serivce via Mindbody Online will be automatically applied.</p>\n                          <hr />\n                          <p>That is to say, if you change the price of the Late Cancel Service in Mindbody Online the new updated price will be applied for a Late Cancel Charge.</p>\n                        </IonNote>\n                      </IonItem>\n                      : null}\n\n                    {/* Input: mbo_late_cancel_product_id */}\n                    <IonItem key={no_show_client?.mbo_late_cancel_product_id}\n                      button onClick={() => openMboServiceUpdate('late_cancel_service_update')}>\n                      <IonLabel className=\"ion-text-wrap\" color=\"default\">\n                        <h2>{no_show_client?.mbo_late_cancel_product_name}</h2>\n                        <h3>${no_show_client?.mbo_late_cancel_product_amount.toFixed(2)}</h3>\n                      </IonLabel>\n                      <IonIcon slot=\"start\" color=\"tertiary\" icon={editIcon} />\n                    </IonItem>\n\n                    {/* Late Cancel: Forgive Reset Cycle */}\n                    <IonItem onClick={() => setShowLateCancelForgiveFrequencyInfo(!show_late_cancel_forgive_frequency_info)}>\n                      <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      <IonCardSubtitle>Forgive Reset Frequency</IonCardSubtitle>\n                    </IonItem>\n\n                    {/* Information Element: late_cancel_forgive_frequency */}\n                    {show_late_cancel_forgive_frequency_info ?\n                      <IonItem onClick={() => setShowLateCancelForgiveFrequencyInfo(!show_late_cancel_forgive_frequency_info)}>\n                        <IonNote class=\"ion-padding-start\">\n                          <h5>This is the <b>Length of Time</b> for each <b>Forgive Cycle Period</b>.</h5>\n                          <hr />\n                          <p><u>Note</u>: can be <em>Every Week</em> <b>or</b> <em>Every Month</em>.</p>\n                          <hr />\n                          <p>That is to say, if this value is <em>Every Week</em>, the number of Late Cancels forgiven resets to 0 every Sunday</p>\n                        </IonNote>\n                      </IonItem>\n                      : null}\n\n                    {/* Input: late_cancel_forgive_frequency */}\n                    <IonGrid>\n                      <IonRow class=\"ion-align-items-center\">\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            color=\"tertiary\"\n                            fill={no_show_client?.late_cancel_forgive_frequency.toLowerCase() === 'weekly' ? 'solid' : \"outline\"}\n                            onClick={() => dispatch({ type: 'late_cancel_forgive_frequency_change' })}>\n                            Every Week\n                          </IonButton>\n                        </IonCol>\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            color=\"tertiary\"\n                            fill={no_show_client?.late_cancel_forgive_frequency.toLowerCase() === 'monthly' ? 'solid' : \"outline\"}\n                            onClick={() => dispatch({ type: 'late_cancel_forgive_frequency_change' })}>\n                            Every Month\n                          </IonButton>\n                        </IonCol>\n                      </IonRow>\n                    </IonGrid>\n\n                    {/* Late Cancel: Number Of Forgives */}\n                    <IonItem onClick={() => setShowLateCancelForgiveMinInfo(!show_late_cancel_forgive_min_info)}>\n                      <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      <IonCardSubtitle>Number Forgives</IonCardSubtitle>\n                    </IonItem>\n\n                    {/* Information Element: late_cancel_forgive_min */}\n                    {show_late_cancel_forgive_min_info ?\n                      <IonItem onClick={() => setShowLateCancelForgiveMinInfo(!show_late_cancel_forgive_min_info)}>\n                        <IonNote class=\"ion-padding-start\">\n                          <h5>A <b>Late Cancel Charge</b> will <b><u>not</u></b> be applied <b><u>if</u></b> the number of times the Client <b>has</b> Late Cancelled <b>is</b> <b>less than or equal</b> this value.</h5>\n                          <hr />\n                          <p><u>Note</u>: this resets to 0 every week or month depending on the <b>Late Cancel Forgive Reset Cycle</b>.</p>\n                          <hr />\n                          <p>That is to say, if this value is 1, the first Late Cancel will be forgiven but every Late Cancel after this will be charged.</p>\n                        </IonNote>\n                      </IonItem>\n                      : null}\n\n                    {/* Input: late_cancel_forgive_min */}\n                    <IonGrid>\n                      <IonRow class=\"ion-align-items-center\">\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            color=\"tertiary\"\n                            fill=\"outline\"\n                            onClick={() => dispatch({ type: 'late_cancel_forgive_min_decrement' })}>\n                            <IonIcon icon={removeIcon} />\n                          </IonButton>\n                        </IonCol>\n                        <IonCol>\n                          <IonText class=\"ion-text-center\"><h1>{no_show_client?.late_cancel_forgive_min}</h1></IonText>\n                        </IonCol>\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            color=\"tertiary\"\n                            fill=\"outline\"\n                            onClick={() => dispatch({ type: 'late_cancel_forgive_min_increment' })}>\n                            <IonIcon icon={addIcon} />\n                          </IonButton>\n                        </IonCol>\n                      </IonRow>\n                    </IonGrid>\n\n                    {/* Late Cancel: Max Number Of Charges */}\n                    <IonItem onClick={() => setShowLateCancelForgiveMaxInfo(!show_late_cancel_forgive_max_info)}>\n                      <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      <IonCardSubtitle>Maximum Number of Charges</IonCardSubtitle>\n                    </IonItem>\n\n                    {/* Information Element: late_cancel_forgive_max */}\n                    {show_late_cancel_forgive_max_info ?\n                      <IonItem onClick={() => setShowLateCancelForgiveMaxInfo(!show_late_cancel_forgive_max_info)}>\n                        <IonNote class=\"ion-padding-start\">\n                          <h5>A <b>Late Cancel Charge</b> will <b><u>not</u></b> be applied <b><u>if</u></b> the number of times the Client <b>has</b> Late Cancelled <b>is</b> <b>more than or equal</b> this value.</h5>\n                          <hr />\n                          <p>That is to say, if this value is 10, the 10<sup>th</sup> Late Cancel and every Late Cancel after will be forgiven.</p>\n                        </IonNote>\n                      </IonItem>\n                      : null}\n\n                    {/* Input: late_cancel_forgive_max */}\n                    <IonGrid>\n                      <IonRow class=\"ion-align-items-center\">\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            color=\"tertiary\"\n                            fill=\"outline\"\n                            onClick={() => dispatch({ type: 'late_cancel_forgive_max_decrement' })}>\n                            <IonIcon icon={removeIcon} />\n                          </IonButton>\n                        </IonCol>\n                        <IonCol>\n                          <IonText class=\"ion-text-center\"><h1>{no_show_client?.late_cancel_forgive_max}</h1></IonText>\n                        </IonCol>\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            color=\"tertiary\"\n                            fill=\"outline\"\n                            onClick={() => dispatch({ type: 'late_cancel_forgive_max_increment' })}>\n                            <IonIcon icon={addIcon} />\n                          </IonButton>\n                        </IonCol>\n                      </IonRow>\n                    </IonGrid>\n                  </IonItemGroup>\n                </IonCardContent>\n              </IonCard>\n            </IonCol>\n\n          </IonRow>\n          <IonRow>\n            <IonCol>\n              {/* Charge Configuration */}\n              <IonCard>\n                <IonCardHeader>\n                  <IonCardTitle color=\"primary\">Charge Configuration</IonCardTitle>\n                </IonCardHeader>\n                <IonCardContent>\n                  <IonItemGroup>\n\n                    {/* Timezone */}\n                    <IonItem onClick={() => setShowTimezoneInfo(!show_timezone_info)}>\n                      <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      <IonCardSubtitle>Timezone</IonCardSubtitle>\n                    </IonItem>\n\n                    {/* Information Element: billing_timezone */}\n                    {show_timezone_info ?\n                      <IonItem onClick={() => setShowTimezoneInfo(!show_timezone_info)}>\n                        <IonNote class=\"ion-padding-start\">\n                          <h5>The timezone of your location(s)</h5>\n                          <hr />\n                          <p><u>Note</u>: all charges are processed after 10pm in this timezone.</p>\n                          <hr />\n                          <p>That is to say, if this timezone is <em>Canberra, Melbournce, Sydney</em> then it is assumed the last class is finished by 10pm local time and billing will be processed after this time.</p>\n                        </IonNote>\n                      </IonItem>\n                      : null}\n\n                    {/* Input: billing_timezone */}\n                    <IonSelect\n                      value={tz}\n                      placeholder=\"Select a Timezone\"\n                      interface=\"action-sheet\"\n                      selectedText={no_show_client?.billing_timezone.text}\n                      onIonChange={e => setTz(e.detail.value)}>\n                      {\n                        timezones.map((t) =>\n                          <IonSelectOption key={t.text} value={t}>{t.text}</IonSelectOption>\n                        )\n                      }\n                    </IonSelect>\n\n                    {/* Will Charge Non-Members */}\n                    <IonItem onClick={() => setShowChargeNonMembersInfo(!show_charge_non_members_info)}>\n                      <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      <IonCardSubtitle>Charge Non-Members</IonCardSubtitle>\n                    </IonItem>\n\n                    {/* Information Element: offense_to_billing_hold_days */}\n                    {show_charge_non_members_info ?\n                      <IonItem onClick={() => setShowChargeNonMembersInfo(!show_charge_non_members_info)}>\n                        <IonNote class=\"ion-padding-start\">\n                          <h5>Should Clients with a <b>Non-Member status</b> be <b>Charged</b>?</h5>\n                          <hr />\n                          <p><u>Note</u>: this is the <em>Member Status</em> in Mindbody Online.</p>\n                          <hr />\n                          <p>This can prevent a charge been applied to Clients who are not members.</p>\n                          <p>This is a common problem when using a promotion that allows Non-Members to book a class.</p>\n                          <hr />\n                          <p>That is to say, if Jill was late to cancel her free class from the summer promotion. Jill will not be charged.</p>\n                        </IonNote>\n                      </IonItem>\n                      : null}\n\n                    <IonGrid>\n                      <IonRow>\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            fill=\"outline\"\n                            color={no_show_client?.will_charge_non_members ? \"primary\" : \"warning\"}\n                            onClick={() => dispatch({ type: \"update_will_charge_non_members\" })}>\n                            {no_show_client?.will_charge_non_members ? \"On\" : \"Off\"}</IonButton>\n                        </IonCol>\n                      </IonRow>\n                    </IonGrid>\n\n\n                    {/* Offence To Charge Delay */}\n                    <IonItem onClick={() => setShowOffenseToBillingHoldDaysInfo(!show_offense_to_billing_hold_days_info)}>\n                      <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      <IonCardSubtitle>Days from Offence to Charge</IonCardSubtitle>\n                    </IonItem>\n\n                    {/* Information Element: offense_to_billing_hold_days */}\n                    {show_offense_to_billing_hold_days_info ?\n                      <IonItem onClick={() => setShowOffenseToBillingHoldDaysInfo(!show_offense_to_billing_hold_days_info)}>\n                        <IonNote class=\"ion-padding-start\">\n                          <h5>The <em>length of time in</em> <b>days between</b> a <em>No Show</em> or <em>Late Cancel</em> and when the <em>Client</em> <b>will be Charged</b></h5>\n                          <hr />\n                          <p><u>Note</u>: Refund Requests that are approved after this time period will need to be refunded manually.</p>\n                          <hr />\n                          <p>Effectively this is the grace period the Client has to request a pardon for their No Show or Late Cancel.</p>\n                          <hr />\n                          <p>That is to say, if the <em>Days from Offence to Charge</em> is 7 and a Client No Shows on a Monday. The Client will be chanrged next Monday 7 days later.</p>\n                          <hr />\n                          <p>Assumsing the Client <b>is not pardoned for the offence</b>.</p>\n                        </IonNote>\n                      </IonItem>\n                      : null}\n\n                    {/* Input: offense_to_billing_hold_days */}\n                    <IonGrid>\n                      <IonRow class=\"ion-align-items-center\">\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            color=\"primary\"\n                            fill=\"outline\"\n                            onClick={() => dispatch({ type: 'offense_to_billing_hold_days_decrement' })}>\n                            <IonIcon icon={removeIcon} />\n                          </IonButton>\n                        </IonCol>\n                        <IonCol>\n                          <IonText class=\"ion-text-center\"><h1>{no_show_client?.offense_to_billing_hold_days}</h1></IonText>\n                        </IonCol>\n                        <IonCol>\n                          <IonButton\n                            expand=\"block\"\n                            color=\"primary\"\n                            fill=\"outline\"\n                            onClick={() => dispatch({ type: 'offense_to_billing_hold_days_increment' })}>\n                            <IonIcon icon={addIcon} />\n                          </IonButton>\n                        </IonCol>\n                      </IonRow>\n                    </IonGrid>\n\n                    {/* Will Run Billing */}\n                    <IonItem onClick={() => setShowIsBillingInfo(!show_is_billing_info)}>\n                      <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      <IonCardSubtitle>Billing Status</IonCardSubtitle>\n                    </IonItem>\n\n                    {/* Information Element: is_billing */}\n                    {show_is_billing_info ?\n                      <IonItem onClick={() => setShowIsBillingInfo(!show_is_billing_info)}>\n                        <IonNote class=\"ion-padding-start\">\n                          <h5><b>If</b> the <em>Billing Status</em> of a <em>Location</em> is <b><u>on</u></b> then Charges <b>will be applied</b> at that <em>Location.</em></h5>\n                          <hr />\n                          <p><u>Note</u>: locations can be switched on and off independantly of each other.</p>\n                          <hr />\n                          <p>That is to say, billing can be applied to all, some or none of your Locaions.</p>\n                          <hr />\n                        </IonNote>\n                      </IonItem>\n                      : null}\n\n                    {/* Input: is_billing */}\n                    <IonItem>\n                      <IonGrid>{no_show_client?.locations.map((location) =>\n                        <IonRow key={`locations-${location.location_name}-${location.location_id}`} class=\"ion-align-items-center\">\n                          <IonCol>\n                            <IonText color={location.is_billing ? \"success\" : \"danger\"}><h2>{location.location_name_alias}</h2></IonText>\n                          </IonCol>\n                          <IonCol>\n                            <IonButton\n                              expand=\"block\"\n                              fill={location.is_billing ? \"outline\" : \"outline\"}\n                              color={location.is_billing ? \"success\" : \"danger\"}\n                              onClick={() => dispatch({ type: \"will_run_billing_change\", payload: location })}>\n                              {location.is_billing ? \"On\" : \"Off\"}</IonButton>\n                          </IonCol>\n                        </IonRow>\n                      )}\n                      </IonGrid>\n                    </IonItem>\n\n                    {/* Will Send Communicaitons */}\n                    <IonItem onClick={() => setShowWillSendCommsInfo(!show_will_send_comms_info)}>\n                      <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      <IonCardSubtitle>Communications Status</IonCardSubtitle>\n                    </IonItem>\n\n                    {/* Information Element: is_billing */}\n                    {show_will_send_comms_info ?\n                      <IonItem onClick={() => setShowWillSendCommsInfo(!show_will_send_comms_info)}>\n                        <IonNote class=\"ion-padding-start\">\n                          <h5><b>If</b> the <em>Communications Status</em> of a <em>Location</em> is <b><u>on</u></b> then Communications <b>will be sent</b> at that <em>Location.</em></h5>\n                          <hr />\n                          <p><u>Note</u>: locations can be switched on and off independantly of each other.</p>\n                          <hr />\n                          <p>That is to say, emails will be sent to Clients.</p>\n                          <hr />\n                        </IonNote>\n                      </IonItem>\n                      : null}\n\n                    {/* Input: will_send_comms */}\n                    <IonItem>\n                      <IonGrid>{no_show_client?.locations.map((location) =>\n                        <IonRow key={`locations-${location.location_name}-${location.location_id}`} class=\"ion-align-items-center\">\n                          <IonCol>\n                            <IonText color={location.will_send_comms ? \"success\" : \"danger\"}><h2>{location.location_name_alias}</h2></IonText>\n                          </IonCol>\n                          <IonCol>\n                            <IonButton\n                              expand=\"block\"\n                              fill={location.will_send_comms ? \"outline\" : \"outline\"}\n                              color={location.will_send_comms ? \"success\" : \"danger\"}\n                              onClick={() => dispatch({ type: \"location_will_send_comms_change\", payload: { location_id: location.location_id }  })}>\n                              {location.will_send_comms ? \"On\" : \"Off\"}</IonButton>\n                          </IonCol>\n                        </IonRow>\n                      )}\n                      </IonGrid>\n                    </IonItem>\n\n\n                    {/* Class Black List */}\n                    <IonItem onClick={() => setShowClassBlackListInfo(!show_class_black_list_info)}>\n                      <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      <IonCardSubtitle>Class Blacklist</IonCardSubtitle>\n                    </IonItem>\n\n                    {/* Information Element: class_black_list */}\n                    {show_class_black_list_info ?\n                      <IonItem onClick={() => setShowClassBlackListInfo(!show_class_black_list_info)}>\n                        <IonNote class=\"ion-padding-start\">\n                          <h5><b>If</b> the <em>Class</em> has a <em>Session Type</em> that <b>is <u>on</u></b> the <em>Class Black List</em> then Charges <b>will not be applied</b> for that <em>Class.</em></h5>\n                          <hr />\n                          <p><u>Note</u>: the <b>Class Session Type</b> option is configured in Mindbody Online and <b>is</b> the identifier of the Class.</p>\n                          <hr />\n                          <p><u>Note</u>: this is <b>optional</b>.</p>\n                          <hr />\n                          <p>For example: say you have Class called <em>Yoga Flow</em> and a second Class called <em>Beginner Yoga Flow</em> and <b>both</b> had the <em>Session Type: <u>Vinyasa Yoga</u></em>.</p>\n                          <hr />\n                          <p><b>and</b> you do <b>not</b> want charges to be applied to these classes</p>\n                          <p><b>then add</b> <em><u>Vinyasa yoga</u></em> to your <em>Class Clack List</em></p>\n                          <hr />\n                          <p><b>and</b> charges will not be appied to both <em>Yoga Flow</em> <b>and</b> <em>Beginner Yoga Flow</em>.</p>\n                          <hr />\n                        </IonNote>\n                      </IonItem>\n                      : null}\n\n                    {/* Input: class_black_list */}\n                    <IonList>{no_show_client?.class_black_list.map((item) =>\n                      <IonItem key={item.session_type_name}>\n                        <IonLabel className=\"ion-text-wrap\">\n                          <h2>{item.session_type_name}</h2>\n                        </IonLabel>\n                      </IonItem>)}\n\n                      <IonItem button onClick={openMboSessionTypesUpdate}>\n                        <IonLabel color=\"primary\">Update Class Blacklist</IonLabel>\n                        <IonIcon slot=\"start\" color=\"primary\" icon={editIcon} />\n                      </IonItem>\n                    </IonList>\n\n                  </IonItemGroup>\n                </IonCardContent>\n              </IonCard>\n            </IonCol>\n          </IonRow>\n          {/* </IonGrid> */}\n\n          {/* Execute Update */}\n          <IonRow>\n            <IonCol>\n              <IonCard>\n                <IonCardContent>\n                  <IonGrid>\n                    <IonRow>\n                      <IonCol class=\"ion-padding-bottom\">\n                        <IonButton fill=\"clear\" onClick={() => setShowIsPreLaunchInfo(!show_is_pre_launch_info)}>\n                          <IonIcon slot=\"icon-only\" icon={infoIcon} color=\"primary\" onClick={() => setShowIsPreLaunchInfo(!show_is_pre_launch_info)}></IonIcon>\n                        </IonButton>\n                        <IonButton\n                          expand=\"block\"\n                          color={no_show_client?.is_pre_launch ? \"success\" : \"warning\"}\n                          fill={no_show_client?.is_pre_launch ? \"solid\" : \"outline\"}\n                          onClick={() => dispatch({ type: 'is_pre_launch_change' })}>Pre-Launch Mode is {no_show_client?.is_pre_launch ? \"On\" : \"Off\"}\n                        </IonButton>\n                      </IonCol>\n                    </IonRow>\n                    {\n                      show_is_pre_launch_info ?\n                        <IonRow>\n                          <IonCol>\n                            <IonItem onClick={() => setShowIsPreLaunchInfo(!show_is_pre_launch_info)}>\n                              <IonNote class=\"ion-padding-start\">\n                                <h5><b>If</b> <em>Pre-Launch Mode</em> <b>is <u>on</u> then</b> <em> Pre Launch Communications will be sent</em> <b>and</b> Charges <b>will not be applied</b>.</h5>\n                                <hr />\n                                <p><u>Note</u>: turning Pre-Launch Mode <b>on</b> will automatically Forgive all Pending Charges for this Forgive Cycle.</p>\n                                <hr />\n                                <p>This is a useful to implement a roll-out plan to your client base.</p>\n                                <hr />\n                                <p><u>Note</u>: the <em>Pre-Launch Warning Email</em> can be used as a notification method to warn Clients that there is a policy change coming.</p>\n                                <hr />\n                                <p>That is to say, if Pre-Launch Mode is <b>on</b> and a Client No Shows or Late Cancels <b>then</b> they will be <b>sent</b> the <em>Pre-Lauch Warning Email</em> and will <b>not</b> be charged.</p>\n                                <hr />\n                              </IonNote>\n                            </IonItem>\n                          </IonCol>\n                        </IonRow>\n                        : null\n                    }\n\n                    {/* This is to control Test Mode, I'm not sure that it should be exposed to the user */}\n                    {/* <IonRow>\n                  <IonCol class=\"ion-padding-bottom\" size=\"auto\">\n                    <IonItem>\n                      <IonButton slot=\"start\" fill=\"clear\" onClick={() => setShowIsTestInfo(!show_is_test_info)}>\n                        <IonIcon slot=\"icon-only\" icon={infoIcon} color=\"primary\"></IonIcon>\n                      </IonButton>\n                    </IonItem>\n\n                    <IonButton\n                      color={no_show_client?.is_test ? \"danger\" : \"medium\"}\n                      fill={no_show_client?.is_test ? \"solid\" : \"outline\"}\n                      onClick={() => dispatch({ type: 'is_test_change' })}>Test Mode is {no_show_client?.is_test ? \"On\" : \"Off\"}\n                    </IonButton>\n\n                  </IonCol>\n                {\n                  show_is_test_info ?\n                    <IonRow>\n                      <IonCol>\n                        <IonItem onClick={() => setShowIsTestInfo(!show_is_test_info)}>\n                          <IonNote class=\"ion-padding-start\">\n                            <h5><b>If</b> the <em>Test Mode</em> <b>is <u>on</u></b> then <em> <b>no</b> Communications will be sent</em> <b>and no Charges will be applied</b>.</h5>\n                            <hr />\n                            <p><u>Note</u>: this is recomended <b>for trouble shooting only</b>.</p>\n                            <hr />\n                          </IonNote>\n                        </IonItem>\n                      </IonCol>\n                    </IonRow>\n                    : null\n                }\n              </IonRow> */}\n\n\n                    <IonRow>\n                      <IonCol class=\"ion-padding-bottom\">\n                        <IonButton\n                          expand=\"block\"\n                          color=\"primary\"\n                          onClick={handleUpdate}>Update\n              </IonButton>\n                      </IonCol>\n                    </IonRow>\n                    <IonRow>\n                      <IonCol>\n                        <IonButton\n                          color=\"medium\"\n                          expand=\"block\"\n                          fill=\"clear\"\n                          onClick={() => auth.signOut()}>Logout\n              </IonButton>\n\n                      </IonCol>\n                    </IonRow>\n                  </IonGrid>\n                </IonCardContent>\n              </IonCard>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n      <IonLoading isOpen={status.loading} />\n    </IonApp>\n  );\n};\n\nexport default SettingsPage;\n","import {\n  IonApp,\n  IonContent,\n  IonHeader,\n  IonToolbar,\n  IonButtons,\n  IonBackButton,\n  IonButton,\n  IonIcon,\n} from '@ionic/react';\nimport { trash as deleteIcon } from 'ionicons/icons'\nimport React from 'react';\nimport { useParams, useHistory } from 'react-router';\nimport { firestore } from '../firebase';\n// import { Entries, toEntries } from '../models/Entry';\nimport { useAuth } from '../auth';\n// import { formatDate } from '../date';\n\ninterface RouteParams {\n  id: string\n}\n\nconst EntryPage: React.FC = () => {\n  const { userId } = useAuth();\n  const { id } = useParams<RouteParams>();\n  // const [entries, setEntries] = useState<Entries>();\n  const history = useHistory();\n\n  const handleDelete = async () => {\n    const entryRef = firestore.collection('users').doc(userId).collection('Entries').doc(id)\n    await entryRef.delete()\n    history.goBack();\n  }\n\n  // useEffect(() => {\n  //   const entryRef = firestore.collection('users').doc(userId).collection('Entries').doc(id)\n  //   entryRef.get().then((doc) => { \n  //     console.log('Entries',doc)\n  //     setEntries(toEntries(doc)); });\n  // }, [userId, id])\n\n  return (\n    <IonApp>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonBackButton defaultHref=\"/v1/entries\" />\n          </IonButtons>\n          {/* <IonTitle>{formatDate(entry?.date)}</IonTitle> */}\n          {/* <IonTitle>{entry?.type}</IonTitle> */}\n          <IonButtons slot=\"end\">\n            <IonButton onClick={handleDelete}>\n              <IonIcon icon={deleteIcon} slot=\"icon-only\" />\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        {/* <h2>{entry?.name}</h2>\n        <p>{entry?.message}</p> */}\n      </IonContent>\n    </IonApp>\n  );\n};\n\nexport default EntryPage;\n","import {\n  IonApp,\n  IonContent,\n  IonHeader,\n  IonTitle,\n  IonToolbar,\n  IonButtons,\n  IonBackButton,\n  IonList,\n  IonLabel,\n  IonItem,\n  IonInput,\n  IonTextarea,\n  IonButton,\n  IonDatetime,\n} from '@ionic/react';\nimport React, { useState } from 'react';\nimport { firestore } from '../firebase';\nimport { useAuth } from '../auth';\nimport { useHistory } from 'react-router';\n\n// import { locationData, reportData, location0, location1, location2, location3, location5 } from '../firebase';\n\nconst AddEntryPage: React.FC = () => {\n  const { userId } = useAuth();\n  const history = useHistory();\n\n  const [date, setDate] = useState('');\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n\n  const handleSave = async () => {\n    console.log('[handleSave]', {title, description})\n    const entriesRef = firestore.collection('users').doc(userId).collection('entries');\n    const entryData = { date, title, description };\n    const entryRef = await entriesRef.add(entryData);\n    console.log('[handleSave]', entryRef.id)\n    history.goBack();\n\n    // console.log('\\n\\nADDING DATA TO FIREBASE')\n    // const entriesRef = firestore.collection('users').doc(userId).collection('LocationPerformance').doc(\"5\");\n    // const entryData = {...location5};\n    // const entryRef = await entriesRef.set(entryData);\n    // console.log('[handleSave]', entryRef.id)\n    // history.goBack();\n    \n  }\n\n  return (\n    <IonApp>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonBackButton defaultHref=\"/v1/entries\" />\n          </IonButtons>\n          <IonTitle>Add Entry</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        <IonList>\n        <IonItem>\n            <IonLabel position=\"stacked\">Date</IonLabel>\n            <IonDatetime\n              value={date}\n              onIonChange={(event) => setDate(event.detail.value)}\n            />\n          </IonItem>\n          <IonItem>\n            <IonLabel position=\"stacked\">Title</IonLabel>\n            <IonInput \n              value={title}\n              onIonChange={(event) => setTitle(event.detail.value)}\n            />\n          </IonItem>\n          <IonItem>\n            <IonLabel position=\"stacked\">Description</IonLabel>\n            <IonTextarea \n              value={description}\n              onIonChange={(event) => setDescription(event.detail.value)}\n            />\n          </IonItem>\n          <IonButton expand=\"block\" onClick={handleSave}>Save</IonButton>\n        </IonList>\n      </IonContent>\n    </IonApp>\n  );\n};\n\nexport default AddEntryPage;\n","import React from 'react';\n\nimport {\n    IonLabel,\n    IonList,\n    IonGrid,\n    IonRow,\n    IonCol\n} from '@ionic/react';\n\nimport {\n    ResponsiveContainer,\n    XAxis,\n    AreaChart,\n    Area,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n    Legend,\n} from 'recharts';\nimport dayjs from 'dayjs';\n\nconst formatDateToMonthYear = (isoString) => {\n    return dayjs(isoString).format('MMMM YYYY');\n}\n\nconst formatDateToMonth = (isoString) => {\n    return dayjs(isoString).format(\"MMM YY\");\n}\n\nconst formatLegendText = (s) => {\n    return s.split('_').join(' ').replace(\n        /\\w\\S*/g,\n        function (txt) {\n            if (txt === 'percent') {\n                txt = '';\n            } else if (txt === 'attendance') {\n                txt = '';\n            } else {\n                txt = txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n            }\n            return txt;\n            // return txt !== 'percent' ? txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase() : '% ';\n        }\n    );\n}\n\nconst toPercent = (decimal, fixed = 0) => {\n    return `${(decimal * 100).toFixed(fixed)}%`;\n};\n\nconst renderTooltipContent = (o) => {\n    const { payload, label } = o;\n    return (\n        <div><IonGrid>\n            <IonRow><IonCol>\n                <IonLabel>{`${formatDateToMonthYear(label)}`}</IonLabel>\n            </IonCol></IonRow>\n            <IonList>{\n                payload.map((entry, index) => (\n                    <IonRow key={`item-${index}`} class=\"ion-align-items-center\">\n                        <IonCol class=\"ion-text-start\">\n                            {`${formatLegendText(entry.name)}`}\n                        </IonCol>\n                        <IonCol class=\"ion-text-end\">\n                            {`${toPercent(entry.value)}`}\n                            {/* {`${entry.value}`} */}\n                        </IonCol>\n                    </IonRow>\n                ))}</IonList>\n        </IonGrid>\n        </div>\n    );\n};\n\nfunction StackedAreaChart({ data, dataKey1, fill1, stroke1, dataKey2, fill2, stroke2, dataKey3, fill3, stroke3  }) {\n    // console.log(`\\n\\n[StackedAreaChart]: ${JSON.stringify(data)}`)\n    let tickArray = []\n    for (var i=0; i<data.length; i++) {\n        if (i %2 === 1) {\n            tickArray.push(data[i].index)\n        }\n    }\n\n    return (\n        <ResponsiveContainer height={350} width=\"100%\">\n            <AreaChart data={data}\n                margin={{ top: 10, right: 10, left: 0, bottom: 10 }}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"index\" \n                    tickFormatter={formatDateToMonth} \n                    ticks={tickArray}/>\n                <YAxis tickFormatter={toPercent} />\n                <Tooltip content={renderTooltipContent} />\n                <Legend formatter={(value) => formatLegendText(value)} />\n                <Area type='monotone' dataKey={dataKey1} stackId=\"1\" stroke={stroke1} fill={fill1} />\n                <Area type='monotone' dataKey={dataKey2} stackId=\"1\" stroke={stroke2} fill={fill2} />\n                <Area type='monotone' dataKey={dataKey3} stackId=\"1\" stroke={stroke3} fill={fill3} />\n            </AreaChart>\n        </ResponsiveContainer>\n    )\n}\n\nexport default StackedAreaChart;","import dayjs from \"dayjs\";\n\n// Return true if this month is greater than last month\nexport function proportionalDifference(n_1: number, n: number, month_completed: number) {\n    return (n_1 * month_completed) < n;\n}\n\n// Return yesterdays date because the report is generated over night\n// from the perpective of the day that was\nexport function getMonthCompleted() {\n    const d = new Date();\n    d.setDate(d.getDate() - 1)\n    return d.getDate() / dayjs(d).daysInMonth();\n}","import {\n    IonApp,\n    IonContent,\n    IonHeader,\n    IonTitle,\n    IonToolbar,\n    IonLabel,\n    IonGrid,\n    IonRow,\n    IonCol,\n    IonText,\n    IonFab,\n    IonFabButton,\n    IonFabList,\n    IonIcon,\n    IonLoading,\n    IonItem,\n    IonList,\n    IonItemGroup,\n    IonModal,\n    IonButton,\n    IonCard,\n    IonCardHeader,\n    IonCardTitle,\n    IonCardSubtitle,\n    IonNote, IonImg\n} from '@ionic/react';\nimport { informationCircleOutline as infoIcon, helpCircleOutline as helpIcon, medalSharp as medalIcon, locationSharp as fabIcon, close as closeIcon, barbellSharp as classIcon, personSharp as instructorIcon } from 'ionicons/icons'\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router';\nimport { firestore } from '../firebase';\nimport { useAuth } from '../auth';\nimport dayjs from 'dayjs';\nimport StackedAreaChart from '../components/StackedAreaChart';\nimport { NoShowClient, toNoShowClient } from '../models/NoShowClient';\nimport { Report, toReport, PerformanceData } from '../models/Reports';\nimport { proportionalDifference, getMonthCompleted } from '../reportCalculations';\n\n\ninterface RouteParams {\n    id: string;\n    type: string;\n}\n\nconst ReportPage: React.FC = () => {\n    const { userId } = useAuth();\n    const { id } = useParams<RouteParams>();\n    const [status, setStatus] = useState({ loading: true, error: false });\n    const [showPerformanceModal, setShowPerformanceModal] = useState(false);\n    const [showPerformanceDetailsModal, setShowPerformanceDetailsModal] = useState(false);\n    const [show_performance_metric_info, setShowPerformanceMeticInfo] = useState(false);\n    const [show_table_info, setShowTableInfo] = useState(false);\n    const [performanceData, setPerformanceData] = useState<PerformanceData[]>();\n    const [performanceDetailsData, setPerformanceDetailsData] = useState<PerformanceData>();\n    const [no_show_client, setNoShowClient] = useState<NoShowClient>();\n\n\n    // console.log(`\\t[ReportPage] ${type} ${id} `)\n    const [reportData, setReportData] = useState<Report>();\n    const month_completed = getMonthCompleted();\n\n    const formatDateToMonth = (d: string) => {\n        const date = dayjs(d).toISOString()\n        return dayjs(date).format('MMM');\n    }\n\n    const toPercent = (decimal: number, fixed = 0) => {\n        return `${(decimal * 100).toFixed(fixed)}%`;\n    };\n\n    useEffect(() => {\n        return firestore.collection('users').doc(userId)\n            .collection('Report').doc(id).onSnapshot((doc) => {\n                setReportData(toReport(doc))\n            })\n    }, [id, userId])\n\n    // This is why NoShowClient should be a Context\n    useEffect(() => {\n        // console.log('\\n\\n[ReportsPage].useEffect() Get No Show Client')\n        const entryRef = firestore.collection('users').doc(userId).collection('NoShowClient')\n        entryRef.get().then((snapshot) => {\n            snapshot.docs.forEach((doc) => {\n                setNoShowClient(toNoShowClient(doc))\n            })\n        })\n    }, [userId]);\n\n    useEffect(() => {\n        if (typeof reportData === 'undefined') {\n            setStatus({ loading: true, error: false })\n        } else {\n            setStatus({ loading: false, error: false })\n            // setDataLength(reportData.table_data.length)\n        }\n    }, [reportData])\n\n\n    const renderTableRow = (title: string, key: string, color = 'default', prefix = '') => {\n        if (status.loading) { return null; }\n        // const d = new Date();\n        // d.setDate(d.getDate() - 1)\n        // console.log(`\\n\\tmonth_completed = ${d.getDate()}/${dayjs(d).daysInMonth()} ${month_completed}`)\n        return (\n            <IonRow class=\"ion-margin-vertical\">\n                <IonCol><IonText class=\"ion-text-wrapped\"><strong>{title}</strong></IonText></IonCol>\n                {reportData?.table_data.map((data, index) => (\n                    <IonCol key={`table-${key}-${index}`} class={index < reportData.table_data.length - 3 ? \"ion-text-end ion-hide-md-down\" : \"ion-text-end\"}>\n                        {index === reportData.table_data.length - 1\n                            ? <IonText color={proportionalDifference(reportData?.table_data[index - 1][key], reportData?.table_data[index][key], month_completed) ? \"success\" : \"danger\"}>{`${prefix}${data[key]}`}</IonText>\n                            : <IonText color={color}>{`${prefix}${data[key]}`}</IonText>}\n                    </IonCol>\n                ))}\n            </IonRow>\n        )\n    }\n\n    const renderTableRowPercentage = (title: string, key: string, color = 'default') => {\n        if (status.loading) { return null; }\n        return (\n            <IonRow class=\"ion-margin-vertical\">\n                <IonCol><IonText class=\"ion-text-wrapped\"><strong>{title}</strong></IonText></IonCol>\n                {reportData?.table_data.map((data, index) => (\n                    <IonCol key={`table-${key}-${index}`} class={index < reportData.table_data.length - 3 ? \"ion-text-end ion-hide-md-down\" : \"ion-text-end\"}>\n                        {index === reportData.table_data.length - 1\n                            ? <IonText color={proportionalDifference(reportData.table_data[index - 1][key], reportData.table_data[index][key], 1) ? \"success\" : \"danger\"}>{`${toPercent(data[key])}`}</IonText>\n                            : <IonText color={color}>{`${toPercent(data[key])}`}</IonText>}\n                    </IonCol>\n                ))}\n            </IonRow>\n        )\n    }\n\n    const openPerformanceModal = (performanceType) => {\n        setShowPerformanceModal(true);\n        setPerformanceData(reportData[performanceType]);\n    }\n\n    const closePerformanceModal = () => {\n        setShowPerformanceModal(false);\n        setPerformanceData(null);\n    }\n\n    const openPerformanceDetailsModal = (data) => {\n        setShowPerformanceDetailsModal(true);\n        setPerformanceDetailsData(data);\n    }\n\n    const closePerformanceDetailsModal = () => {\n        setShowPerformanceDetailsModal(false);\n        setPerformanceDetailsData(null);\n    }\n\n    // This is descending order\n    function compare(a, b) {\n        if (a.performance_comparitor > b.performance_comparitor) {\n            return -1;\n        }\n        if (a.performance_comparitor < b.performance_comparitor) {\n            return 1;\n        }\n        return 0;\n    }\n\n    return (\n        <IonApp>\n            {/* FAB */}\n            <IonFab vertical=\"bottom\" horizontal=\"end\" >\n                <IonFabButton><IonIcon icon={fabIcon} /></IonFabButton>\n                <IonFabList side=\"top\" >\n                    <IonFabButton routerLink=\"/v1/reports/location/0\"><IonLabel color=\"secondary\">ALL</IonLabel></IonFabButton>\n                    {\n                        no_show_client?.locations.map((location) =>\n                            <IonFabButton key={`repost-fab-${location.location_name}`} routerLink={`/v1/reports/location/${location.location_id}`}>\n                                <IonLabel color=\"secondary\">{`${location.location_name_abbreviated}`}</IonLabel>\n                            </IonFabButton>\n                        )\n                    }\n                </IonFabList>\n\n                <IonFabList side=\"start\" >\n                    <IonFabButton onClick={() => openPerformanceModal('class_performance_data')}><IonIcon color=\"secondary\" icon={classIcon} /></IonFabButton>\n                    <IonFabButton onClick={() => openPerformanceModal('instructor_performance_data')}><IonIcon color=\"secondary\" icon={instructorIcon} /></IonFabButton>\n                </IonFabList>\n            </IonFab>\n\n            {/* Performance Modal */}\n            <IonModal\n                isOpen={showPerformanceModal}\n                onDidDismiss={() => closePerformanceModal()}\n            >\n                <IonToolbar>\n                    <IonButton\n                        slot=\"end\"\n                        color=\"primary\"\n                        fill=\"clear\"\n                        onClick={() => closePerformanceModal()}>\n                        <IonIcon slot=\"icon-only\" icon={closeIcon} /></IonButton>\n                    <IonTitle>{reportData?.name}</IonTitle>\n                </IonToolbar>\n\n                <IonContent class=\"ion-padding\">\n                    {performanceData?.sort(compare).map((d, i) => (\n                        <IonCard key={`$performance-modal-${i}`}>\n                            <IonItem>\n                                {i === 0\n                                    ? <IonIcon color=\"warning\" icon={medalIcon} slot=\"start\" />\n                                    : <IonIcon slot=\"start\" />}\n                                <IonCardHeader>{`${d.index}`}</IonCardHeader>\n                                <IonButton\n                                    fill=\"outline\"\n                                    slot=\"end\"\n                                    onClick={() => openPerformanceDetailsModal(d)}\n                                >View</IonButton>\n                            </IonItem>\n                            {/* {renderDetails} */}\n                        </IonCard>\n                    ))}\n                    <IonButton\n                        expand=\"block\"\n                        fill=\"outline\"\n                        color=\"primary\"\n                        onClick={closePerformanceModal}>Close</IonButton>\n                </IonContent>\n\n            </IonModal>\n\n            {/* Performance Details Modal */}\n            <IonModal\n                isOpen={showPerformanceDetailsModal}\n                onDidDismiss={() => closePerformanceDetailsModal()}>\n                <IonToolbar>\n                    <IonTitle>{reportData?.name}</IonTitle>\n                    <IonButton\n                        slot=\"end\"\n                        color=\"primary\"\n                        fill=\"clear\"\n                        onClick={() => closePerformanceDetailsModal()}>\n                        <IonIcon slot=\"icon-only\" icon={closeIcon} /></IonButton>\n                </IonToolbar>\n\n                <IonContent class=\"ion-padding\">\n                    <IonCard class=\"ion-padding\">\n                        <IonCardSubtitle>Last 30 Days</IonCardSubtitle>\n                        <IonCardTitle>\n                            {`${performanceDetailsData?.index}`}\n                        </IonCardTitle>\n                        <IonList>\n                            <IonItemGroup>\n                                <IonItem>\n                                    {/* <IonLabel color=\"primary\"><h1>Stats</h1></IonLabel> */}\n                                    <IonCardSubtitle>Stats</IonCardSubtitle>\n                                </IonItem>\n                                <IonItem>\n                                    <IonLabel class=\"ion-text-wrap\" slot=\"start\">Classes:</IonLabel>\n                                    <IonText slot=\"end\">{performanceDetailsData?.total_classes}</IonText>\n                                </IonItem>\n                                <IonItem>\n                                    <IonLabel class=\"ion-text-wrap\" slot=\"start\">Avg Class Size:</IonLabel>\n                                    <IonText slot=\"end\">{performanceDetailsData?.average_class_size.toFixed(2)}</IonText>\n                                </IonItem>\n                                <IonItem>\n                                    <IonLabel class=\"ion-text-wrap\" slot=\"start\">Capactiy:</IonLabel>\n                                    <IonText slot=\"end\">{toPercent(performanceDetailsData?.percent_capacity_attendance)}</IonText>\n                                </IonItem>\n                                <IonItem>\n                                    <IonLabel class=\"ion-text-wrap\" slot=\"start\">Late Cancel:</IonLabel>\n                                    <IonText slot=\"end\">{toPercent(performanceDetailsData?.percent_late_cancel)}</IonText>\n                                </IonItem>\n                                <IonItem>\n                                    <IonLabel class=\"ion-text-wrap\" slot=\"start\">No Show:</IonLabel>\n                                    <IonText slot=\"end\">{toPercent(performanceDetailsData?.percent_no_show)}</IonText>\n                                </IonItem>\n                                <IonItem>\n                                    <IonCardSubtitle>Details</IonCardSubtitle>\n                                </IonItem>\n                                <IonItem>\n                                    <IonLabel class=\"ion-text-wrap\" slot=\"start\">Total Visits:</IonLabel>\n                                    <IonText slot=\"end\">{performanceDetailsData?.total_visited}</IonText>\n                                </IonItem>\n                                <IonItem>\n                                    <IonLabel class=\"ion-text-wrap\" slot=\"start\">Total Booked:</IonLabel>\n                                    <IonText slot=\"end\">{performanceDetailsData?.total_booked}</IonText>\n                                </IonItem>\n                                <IonItem>\n                                    <IonLabel class=\"ion-text-wrap\" slot=\"start\">Signed In:</IonLabel>\n                                    <IonText slot=\"end\">{performanceDetailsData?.signed_in}</IonText>\n                                </IonItem>\n                                <IonItem>\n                                    <IonLabel class=\"ion-text-wrap\" slot=\"start\">Unique Visits:</IonLabel>\n                                    <IonText slot=\"end\">{performanceDetailsData?.unique_visits}</IonText>\n                                </IonItem>\n                                <IonItem>\n                                    <IonLabel class=\"ion-text-wrap\" slot=\"start\">Late Cancel:</IonLabel>\n                                    <IonText slot=\"end\">{performanceDetailsData?.late_cancel}</IonText>\n                                </IonItem>\n                                <IonItem>\n                                    <IonLabel class=\"ion-text-wrap\" slot=\"start\">No Show:</IonLabel>\n                                    <IonText slot=\"end\">{performanceDetailsData?.no_show}</IonText>\n                                </IonItem>\n                                <IonItem onClick={() => setShowPerformanceMeticInfo(!show_performance_metric_info)}>\n                                    <IonIcon slot=\"start\" icon={helpIcon} color=\"warning\"></IonIcon>\n                                    <IonLabel color=\"warning\" class=\"ion-text-wrap\" slot=\"start\">Performance Metric:</IonLabel>\n                                    <IonText slot=\"end\">{toPercent(performanceDetailsData?.performance_comparitor, 2)}</IonText>\n                                </IonItem>\n                                {/* Information Element: show_mbo_no_show_product_id */}\n                                {show_performance_metric_info ?\n                                    <IonItem onClick={() => setShowPerformanceMeticInfo(!show_performance_metric_info)}>\n                                        <IonGrid>\n                                            <IonRow class=\"ion-padding-top\">\n                                                <IonCol size=\"2\"></IonCol>\n                                                <IonCol size=\"8\">\n                                                    <IonImg src=\"/assets/performance_metric.svg\" alt=\"\" />\n                                                </IonCol>\n                                                <IonCol size=\"2\"></IonCol>\n                                            </IonRow>\n                                            <IonRow>\n                                                <IonCol class=\"ion-padding-start\">\n                                                    <IonNote>\n                                                        <p><b>Signed In</b> is the <b>sum</b> of <b><u>all</u> clients who attended</b>.</p>\n                                                        <p><b>Total Capacity</b> is the <b>sum</b> of the <b>class size of <u>all</u> classes</b>.</p>\n                                                        <hr />\n                                                        <p>This is the metric used to rank performance.</p>\n                                                        <hr />\n                                                        <p>It is the <b>proportion of attendance</b> the Class or Intructor has <b>contributed to attendence</b>.</p>\n                                                        <p>An indication of the amount of influence a Class or Instructor has to motivate Clients to attend.</p>\n                                                        <p>A high scrore is a good thing.</p>\n                                                        <hr />\n                                                        <p>For example, say Jonny Bicep is one of your instructors and <b>100</b> people <b>Signed in</b> to Jonny's classes.</p>\n                                                        <p>In the same 30 days <b>Total Capacity</b> is <b>10,000</b>.</p>\n                                                        <p>Jonny's Performance Metric is <b>1%</b></p>\n                                                        <p>That is to say, for <b><em>1 in every 100</em></b> Clients who <b>attended</b> a Class, it was for one of Jonny's classes.</p>\n                                                    </IonNote>\n                                                </IonCol>\n                                            </IonRow>\n                                        </IonGrid>\n                                    </IonItem>\n                                    : null}\n                            </IonItemGroup>\n                        </IonList>\n                    </IonCard>\n                    <IonButton\n                        expand=\"block\"\n                        fill=\"outline\"\n                        color=\"primary\"\n                        onClick={closePerformanceDetailsModal}>\n                        Close</IonButton>\n                </IonContent>\n            </IonModal>\n\n            <IonHeader>\n                <IonToolbar>\n                    <IonTitle>{reportData?.name}</IonTitle>\n                </IonToolbar>\n            </IonHeader>\n            {status.loading ? null :\n                <IonContent className=\"ion-padding\">\n                    <IonGrid fixed>\n                        <IonRow>\n                            <IonCol>\n                                <IonText class=\"ion-text-capitalize ion-text-center\"><h3>class attendance</h3></IonText>\n                            </IonCol>\n                        </IonRow>\n                        <IonRow>\n                            <IonCol class=\"ion-padding-bottom\">\n                                {/* Visualisation */}\n                                <StackedAreaChart\n                                    data={reportData?.visualisation_data}\n                                    dataKey1='percent_capacity_attendance'\n                                    stroke1='#28ba62'\n                                    fill1='#2dd36f'\n                                    dataKey2='percent_late_cancel'\n                                    stroke2='#e0ac08'\n                                    fill2='#ffc409'\n                                    dataKey3='percent_no_show'\n                                    stroke3='#cf3c4f'\n                                    fill3='#eb445a'\n                                />\n                            </IonCol>\n                        </IonRow>\n\n                        <IonRow>\n                            <IonCol>\n                                <IonItem onClick={() => setShowTableInfo(!show_table_info)}>\n                                    <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                                    <IonLabel color=\"primary\" class=\"ion-text-wrap\">Report Information</IonLabel>\n                                </IonItem>\n                            </IonCol>\n                        </IonRow>\n                        <IonRow>\n                            <IonCol>\n                                {/* Information Element: show_table_info */}\n                                {show_table_info ?\n                                    <IonItem onClick={() => setShowTableInfo(!show_table_info)}>\n                                        <IonGrid>\n                                            <IonRow class=\"ion-padding-top\">\n                                                <IonCol>\n                                                    <IonImg src=\"/assets/table_proportional_diff.svg\" alt=\"\" />\n                                                </IonCol>\n                                            </IonRow>\n                                            <IonRow>\n                                                <IonCol class=\"ion-padding-start\">\n                                                    <IonNote>\n                                                        <p>Each column of table data is reflective of data for that month.</p>\n                                                        <p>The last column is reflective of the data for the month-to-date.</p>\n                                                        <p>The colour of the last column is a visual aid to indicate if the metric is proportionately <IonText color=\"success\"><b>higher</b></IonText> or <IonText color=\"danger\"><b>lower</b></IonText> than last month.</p>\n                                                        <hr />\n                                                        <p>For whole numbers the proportion is calculated as the <b>day of the month</b> divided by the <b>number of days in the month</b>.</p>\n                                                        <p><u>Note</u>: percentages are by definition a proportion, hence the proportional scaling is not applied.</p>\n                                                        <hr />\n                                                        <p>For example, say today is the <b>15<sup>th</sup></b> of April and <b>52</b> classes have been offered.</p>\n                                                        <p>In March <b>100</b> classes were offered.</p>\n                                                        <p>Because it is the 15<sup>th</sup> there are 30 days in April, <b>15</b> is divided by <b>30</b>, which equals <b>0.5</b>.</p>\n                                                        <p>The <b>proportion</b> of this month completed is <b>0.5</b>.</p>\n                                                        <p>That is to say, we are half way through April.</p>\n                                                        <p>This proportion of <b>0.5</b> is multiplied by the number of classes offered in March, <b>100</b> such that the scale of the comparision is equal.</p>\n                                                        <p>That is to say, compared to half of last month have more classes been offered so far this month?</p>\n                                                        <p>Multipling the <b>100</b> classes offered in March by the proportial scaler of <b>0.5</b> yeilds <b>50</b>.</p>\n                                                        <p>So far this month <b>52</b> classes have been offered which is proportionately <b>greater than</b> the <b>50</b> classes offered last month.</p>\n                                                        <p>Hence, this month is on track to offer more classes than last month.</p>\n                                                        <p>In this example the April column for the Classes index will be <IonText color=\"success\"><b>52</b></IonText>.</p>\n                                                    </IonNote>\n                                                </IonCol>\n                                            </IonRow>\n                                        </IonGrid>\n                                    </IonItem>\n                                    : null}\n                            </IonCol>\n                        </IonRow>\n\n                        {/* Table Header */}\n                        <IonRow key={`table-date`}>\n                            <IonCol></IonCol>\n                            {\n                                reportData?.table_data.map((data, index) => (\n                                    <IonCol key={`table-date-${index}`} class={index < reportData.table_data.length - 3 ? \"ion-text-end ion-hide-md-down\" : \"ion-text-end\"}>\n                                        <IonLabel color=\"default\"><h2><strong>{`${formatDateToMonth(data.index)}`}</strong></h2></IonLabel>\n                                    </IonCol>\n                                ))\n                            }</IonRow>\n\n                        {renderTableRowPercentage('Capactiy', 'percent_capacity_attendance')}\n                        {renderTableRowPercentage('No Show', 'percent_no_show')}\n                        {renderTableRowPercentage('Late Cancel', 'percent_late_cancel')}\n                        {renderTableRowPercentage('Charged', 'avg_charge_per_member')}\n\n                        <IonLabel color=\"primary\"><h2>Late Cancel</h2></IonLabel>\n                        {renderTableRow('Total', 'late_cancel')}\n                        {renderTableRow('Charged', 'late_cancel_charges')}\n                        {renderTableRow('Charge Pending', 'late_cancel_charge_pending')}\n                        {renderTableRow('Charge Reversed', 'late_cancel_dispute_approved')}\n                        {renderTableRow('Charge Refunded', 'late_cancel_refund')}\n                        {renderTableRow('Charge Failed', 'late_cancel_error')}\n\n                        <IonLabel color=\"primary\"><h2>No Show</h2></IonLabel>\n                        {renderTableRow('Total', 'no_show')}\n                        {renderTableRow('Charged', 'no_show_charges')}\n                        {renderTableRow('Charge Pending', 'no_show_charge_pending')}\n                        {renderTableRow('Charge Reversed', 'no_show_dispute_approved')}\n                        {renderTableRow('Charge Refunded', 'no_show_refund')}\n                        {renderTableRow('Charge Failed', 'no_show_error')}\n\n                        <IonLabel color=\"primary\"><h2>Details</h2></IonLabel>\n                        {renderTableRow('Classes', 'total_classes')}\n                        {renderTableRow('Capactiy', 'capacity')}\n                        {renderTableRow('Booked', 'total_booked')}\n                        {renderTableRow('Signed In', 'signed_in')}\n                        {renderTableRow('Late Cancel', 'late_cancel')}\n                        {renderTableRow('No Show', 'no_show')}\n                        {renderTableRow('Forgiven', 'total_forgive')}\n\n                        <IonLabel color=\"primary\"><h2>Charge Revenue</h2></IonLabel>\n                        {renderTableRow('No Show', 'no_show_revenue', 'default', '$')}\n                        {renderTableRow('Late Cancel', 'late_cancel_revenue', 'default', '$')}\n                        {renderTableRow('Total', 'total_revenue', 'default', '$')}\n\n\n                        <IonRow>\n                            <IonCol>\n                                <IonList>\n                                    <IonItemGroup>\n                                        {/* Class Performance */}\n                                        <IonItem\n                                            button onClick={() => openPerformanceModal('class_performance_data')}>\n                                            <IonLabel color=\"primary\">Class Performance</IonLabel>\n                                        </IonItem>\n                                        {/* Instructor Performance */}\n                                        <IonItem\n                                            button onClick={() => openPerformanceModal('instructor_performance_data')}>\n                                            <IonLabel color=\"primary\">Instructor Performance</IonLabel>\n                                        </IonItem>\n                                    </IonItemGroup>\n                                </IonList>\n                            </IonCol>\n                        </IonRow>\n\n                        <IonRow class=\"ion-padding\">\n                            <IonText color=\"medium\">{`Updated: ${dayjs(reportData?.updateDate).format('DD MMM YYYY')}`}</IonText>\n                        </IonRow>\n                    </IonGrid>\n                </IonContent>\n            }\n            <IonLoading isOpen={status.loading} />\n        </IonApp >\n    )\n};\n\nexport default ReportPage;","export interface Report {\n    updateDate: string; //isoformat time\n    name: string;\n    siteId: number;\n    class_performance_data: PerformanceData[];\n    instructor_performance_data: PerformanceData[];\n    table_data: LocationPerformanceData[];\n    visualisation_data: VisualisationData[]\n}\n\nexport interface LocationPerformanceData {\n    index: string;\n    total_classes: number;\n    capacity: number;\n    total_booked: number;\n    total_visited: number;\n    signed_in: number;\n    no_show: number;\n    late_cancel: number;\n    total_forgive: number;\n    no_show_charges: number;\n    no_show_charge_pending: number;\n    no_show_dispute_approved: number;\n    no_show_refund: number;\n    no_show_error: number;\n    late_cancel_charges: number;\n    late_cancel_charge_pending: number;\n    late_cancel_dispute_approved: number;\n    late_cancel_refund: number;\n    late_cancel_error: number;\n    total_charges: number;\n    avg_charge_per_member: number;\n    no_show_revenue: number;\n    late_cancel_revenue: number;\n    total_revenue: number;\n    percent_no_show: number;\n    percent_late_cancel: number;\n    percent_capacity_attendance: number;\n}\n\nexport interface PerformanceData {\n    index: string;\n    total_classes: number;\n    average_class_size: number;\n    capacity: number;\n    unique_visits: number;\n    total_visited: number;\n    total_booked: number;\n    signed_in: number;\n    no_show: number;\n    late_cancel: number;\n    percent_no_show: number;\n    percent_late_cancel: number;\n    percent_capacity_attendance: number;\n    performance_comparitor: number;\n}\n\nexport interface VisualisationData {\n    index: string;\n    percent_capacity_attendance: number;\n    percent_late_cancel: number;\n    percent_no_show: number;\n}\n\n// This is the setter\nexport function toLocationPerformance(doc): LocationPerformanceData {\n    return { id: doc.id, ...doc.data() };\n}\n\n// This is the setter\nexport function toPerformance(doc): PerformanceData {\n    return { id: doc.id, ...doc.data() };\n}\n\n// This is the setter\nexport function toVisualisation(doc): VisualisationData {\n    return { id: doc.id, ...doc.data() };\n}\n\n// This is the setter\nexport function toReport(doc): Report {\n    return { id: doc.id, ...doc.data() };\n}\n\n","import {\n    IonApp,\n    IonButton,\n    IonCard,\n    IonContent,\n    IonHeader,\n    IonImg,\n    IonInput,\n    IonTitle,\n    IonToolbar,\n    IonModal,\n    IonIcon,\n    IonList,\n    IonGrid,\n    IonRow,\n    IonCardContent,\n    IonCardHeader,\n    IonCardSubtitle,\n    IonCol,\n    IonItemGroup,\n    IonItem,\n    IonNote,\n    IonLabel,\n    IonBackButton,\n    IonButtons,\n    IonFab,\n    IonFabButton,\n    IonToast, \n    IonThumbnail\n} from '@ionic/react';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { helpCircleOutline as helpIcon, informationCircleOutline as infoIcon, add as addIcon, trashSharp as removeIcon, close as closeIcon, documentTextSharp as documentIcon, videocamSharp as videoIcon, cloudUploadSharp as saveIcon } from 'ionicons/icons';\nimport { storage, firestore } from '../firebase';\nimport { useAuth } from '../auth';\nimport { Editor } from '@tinymce/tinymce-react';\nimport { useParams } from 'react-router';\nimport { CommunicationItem, toCommunicationItem } from '../models/CommunicationItem'\nimport { Asset, Assets, toAssets } from '../models/Assets';\n\ninterface RouteParams {\n    id: string\n}\n\n// This is out here so that blob can be used\nasync function saveAsset(blobUrl: string, userId: string, bucketId: string, newAsset: Asset, assets: Assets) {\n\n    const pathName = newAsset.name.replace(/ /g, '_').toLowerCase()\n\n    const fullPath = `/users/${userId}/${newAsset.type}/${pathName}`\n    newAsset.fullPath = fullPath;\n\n    const assetRef = storage.ref(fullPath)\n    const response = await fetch(blobUrl);\n    const blob = await response.blob();\n    const snapshot = await assetRef.put(blob);\n    const url = await snapshot.ref.getDownloadURL();\n    newAsset.downloadUrl = url\n    var found = false;\n    if (newAsset.type === 'images') {\n        // console.log(\"Add or Update Image\", newAsset)\n        assets.images.forEach((a, idx) => {\n            if (a.fullPath === newAsset.fullPath) {\n                assets.images[idx] = newAsset\n                found = true;\n            }\n        })\n\n        if (!found) { assets.images.push(newAsset) };\n\n    } else {\n        // console.log(\"Add or Update Media\", newAsset)\n        assets.media.forEach((a, idx) => {\n            if (a.fullPath === newAsset.fullPath) {\n                // a = { ...newAsset }\n                assets.media[idx] = newAsset\n                found = true;\n            }\n        })\n\n        if (!found) { assets.media.push(newAsset) };\n    }\n\n    // console.log('saveAsset', bucketId, assets);\n    const dbAssetRef = firestore.collection('users').doc(userId).collection('Assets').doc(bucketId)\n    return await dbAssetRef.set({ ...assets })\n        .then(function () {\n            console.log(\"Asset successfully updated!\");\n        }).catch(function (error) {\n            // The document probably doesn't exist.\n            console.error(\"Error updating media: \", error);\n            // setStatus({ loading: false, error: true })\n        });\n}\n\nconst EmailEditorPage: React.FC = () => {\n    const { id } = useParams<RouteParams>();\n    const [idName] = useState(id.replace(/_/g, ' '))\n    // const history = useHistory();\n    const { userId } = useAuth();\n    const [bucketId, setBucketId] = useState('')\n    const [showHelpText, setShowHelpText] = useState(false);\n    const [showImageInfo, setShowImageInfo] = useState(false);\n    const [showMediaInfo, setShowMediaInfo] = useState(false);\n    const [showTextFieldInfo, setShowTextFieldInfo] = useState(false);\n    const [showDisputeInfo, setShowDisputeInfo] = useState(false);\n    const initEmail = `<p>Hi \\${First Name}</p><p>We noticed a \\${Charge Type} for \\${Class Name} on \\${Class Time}, in \\${Class Location} with \\${Class Instructor}.</p><p><strong><u>Write your email copy here!</u></strong></p><p>If you wish to request a refund <a href=\"\\${dispute_link_url}\">click here</a>.</p><table style=\"margin: 10px; border-collapse: collapse; float: left;\"><tbody><tr><td rowspan=\"2\"><img src=\"https://firebasestorage.googleapis.com/v0/b/mbo-no-show-ui-42d2e.appspot.com/o/favicon.png?alt=media&token=5193344a-22f7-4415-b239-a7e4e202a5c9\" alt=\"Logo Thumbnail\" /></td><td style=\"padding-left: 20px; font-size: 1.2em;\"><strong>\\${Location Manager}</strong></td></tr><tr><td style=\"padding-left: 20px;\"><strong>\\${Class Location}</strong></td></tr></tbody></table>`\n    const imgPlaceholer = \"/assets/placeholder.png\";\n\n    const initNewAsset: Asset = {\n        name: '',\n        type: '',\n        downloadUrl: '',\n        fullPath: '',\n    }\n\n    const [status, setStatus] = useState({ loading: true, error: false });\n    const [showEmailToast, setShowEmailToast] = useState(false)\n    const [showMediaToast, setShowMediaToast] = useState(false);\n    const [mediaToastMessage, setMediaToastMessage] = useState('');\n    const [pictureUrl, setPictureUrl] = useState(imgPlaceholer)\n    const [tmpAssetUrl, setTmpAssetUrl] = useState('');\n    const [showAddMedia, setShowAddMedia] = useState(false)\n    const [showAddImage, setShowAddImage] = useState(false)\n    const [isNewAssetValid, setIsNewAssetValid] = useState(false)\n    const [showMediaUpdateModal, setShowMediaUpdateModal] = useState(false);\n    const [showImageUpdateModal, setShowImageUpdateModal] = useState(false);\n    const [showInformationText, setShowInformationText] = useState(false)\n    const [communicationItem, setCommunicationItem] = useState<CommunicationItem>()\n    const [newAsset, setNewAsset] = useState<Asset>(initNewAsset);\n    const [assets, setAssets] = useState<Assets>();\n    const fileInputRef = useRef<HTMLInputElement>();\n\n    useEffect(() => () => {\n        if (pictureUrl.startsWith('blob:')) {\n            console.log('revokeFile', pictureUrl)\n            URL.revokeObjectURL(pictureUrl);\n        }\n    }, [pictureUrl])\n\n    useEffect(() => () => {\n        if (tmpAssetUrl.startsWith('blob:')) {\n            console.log('\\ntmpAssetUrl revokeFile', tmpAssetUrl)\n            URL.revokeObjectURL(tmpAssetUrl);\n        }\n    }, [tmpAssetUrl])\n\n    useEffect(() => {\n        return firestore.collection('users').doc(userId)\n            .collection('CommunicationItems').doc(id).onSnapshot((doc) => {\n                // console.log(doc.data())\n                setCommunicationItem(toCommunicationItem(doc))\n            })\n\n    }, [userId, id]);\n\n    useEffect(() => {\n        const assetRef = firestore.collection('users').doc(userId).collection('Assets')\n        return assetRef.limit(1).onSnapshot(({ docs }) => {\n            docs.map((doc) => {\n                // console.log(doc.id)\n                setBucketId(doc.id)\n                setAssets(toAssets(doc))\n                return null\n            })\n        });\n    }, [userId]);\n\n    useEffect(() => {\n        (newAsset.name !== '' && newAsset.type !== '') ? setIsNewAssetValid(true) : setIsNewAssetValid(false);\n        // console.log(\"Asset Validator\", isNewAssetValid, newAsset, tmpAssetUrl)\n    }, [newAsset])\n\n    useEffect(() => {\n        if (typeof assets === 'undefined') {\n            setStatus({ loading: true, error: false })\n        } else {\n            setStatus({ loading: false, error: false })\n        }\n    }, [assets])\n\n    const handleEditorChange = (emailContent: string) => {\n        // console.log('handleEditorChange', emailContent)\n        setCommunicationItem({ ...communicationItem, body: emailContent })\n    }\n\n    const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        if (event.target.files.length > 0) {\n            const file = event.target.files.item(0);\n            const picUrl = URL.createObjectURL(file);\n            // console.log('createFile', picUrl)\n            setPictureUrl(picUrl);\n            setShowAddMedia(true)\n            setTmpAssetUrl(picUrl)\n        }\n    }\n\n    const handleSaveAsset = async () => {\n        if (tmpAssetUrl.startsWith('blob')) {\n            saveAsset(tmpAssetUrl, userId, bucketId, newAsset, assets)\n            setNewAsset(initNewAsset)\n            setTmpAssetUrl('')\n            setShowAddMedia(false)\n            setPictureUrl(imgPlaceholer)\n            setMediaToastMessage(`Saving ${newAsset.name} now.`)\n            setShowMediaToast(true)\n        }\n    }\n\n    const handleDeleteAsset = async (deleteAsset: Asset) => {\n        // console.log('handleDeleteAsset', deleteAsset)\n        let tmp = { ...assets };\n\n        setMediaToastMessage(`Removing ${deleteAsset.name} now.`)\n        setShowMediaToast(true)\n\n        if (deleteAsset.type === 'images') {\n            // console.log(\"Delete Image\")\n            const filtered = assets.images.filter((a) => a.fullPath !== deleteAsset.fullPath)\n            tmp = { ...assets, images: filtered }\n\n        } else {\n            // console.log(\"Delete Media\")\n            const filtered = assets.media.filter((a) => a.fullPath !== deleteAsset.fullPath)\n            tmp = { ...assets, media: filtered }\n        }\n\n        storage.ref(deleteAsset.fullPath).delete().then(() => {\n            console.log(\"Asset successfully deleted from storage!\");\n        }).catch((error) => {\n            console.error('Error deleting from storage', error)\n        });\n\n        const dbAssetRef = firestore.collection('users').doc(userId).collection('Assets').doc(bucketId)\n        dbAssetRef.set({ ...tmp })\n            .then(function () {\n                console.log(\"Asset successfully deleted from database!\");\n            }).catch(function (error) {\n                // The document probably doesn't exist.\n                console.error(\"Error deleting asset: \", error);\n                // setStatus({ loading: false, error: true })\n            });\n    }\n\n    const handleAddAssetCancel = () => {\n        setTmpAssetUrl('')\n        setNewAsset(initNewAsset)\n        setPictureUrl(imgPlaceholer)\n        setShowAddMedia(false)\n        setShowAddImage(false)\n    }\n\n    const handleUpdate = async () => {\n        const commsRef = firestore.collection('users').doc(userId).collection('CommunicationItems').doc(id)\n\n        return await commsRef.set({ ...communicationItem })\n            .then(function () {\n                console.log(\"Email successfully updated!\");\n                setStatus({ loading: false, error: false })\n                setShowEmailToast(true)\n            })\n            .catch(function (error) {\n                // The document probably doesn't exist.\n                console.error(\"Error updating email: \", error);\n                setStatus({ loading: false, error: true })\n            });\n    }\n\n    return (\n        <IonApp>\n\n            <IonFab vertical=\"bottom\" horizontal=\"end\">\n                <IonFabButton onClick={handleUpdate}>\n                    <IonIcon icon={saveIcon} />\n                </IonFabButton>\n            </IonFab>\n\n            <IonToast\n                isOpen={showEmailToast}\n                position=\"top\"\n                onDidDismiss={() => setShowEmailToast(false)}\n                message=\"Email have been saved.\"\n                duration={2000}\n            />\n\n            <IonToast\n                isOpen={showMediaToast}\n                position=\"top\"\n                onDidDismiss={() => setShowMediaToast(false)}\n                message={mediaToastMessage}\n                duration={2000}\n            />\n\n            {/* Update Image Library Modal */}\n            <IonModal\n                isOpen={showImageUpdateModal}\n                onDidDismiss={() => setShowImageUpdateModal(false)}\n            >\n                <IonToolbar>\n                    <IonButton\n                        slot=\"end\"\n                        color=\"primary\"\n                        fill=\"clear\"\n                        onClick={() => setShowImageUpdateModal(false)}>\n                        <IonIcon slot=\"icon-only\" icon={closeIcon} /></IonButton>\n                    <IonTitle>Image Library</IonTitle>\n                </IonToolbar>\n\n                <IonContent className=\"ion-padding\">\n\n                    <IonGrid>\n                        <IonRow class=\"ion-justify-content-center\">\n                            {/* Add Image Card */}\n                            <IonCol size-lg='8'>\n                                <IonCard>\n                                    <IonGrid>\n                                        <IonRow>\n                                            <IonCol>\n                                                <input hidden type='file' accept=\"image/png, image/jpeg\"\n                                                    ref={fileInputRef}\n                                                    onChange={handleFileChange} />\n                                                <IonImg src={pictureUrl} alt=\"\"\n                                                    style={{ cursor: 'pointer' }}\n                                                    onClick={() => fileInputRef.current.click()} />\n                                            </IonCol>\n                                        </IonRow>\n                                        <IonRow>\n                                            <IonCol>\n                                                <IonInput type=\"text\"\n                                                    value={newAsset?.name}\n                                                    placeholder='Image Title'\n                                                    onIonChange={(event) => setNewAsset({ ...newAsset, name: event.detail.value, type: 'images' })}\n                                                />\n                                            </IonCol>\n                                        </IonRow>\n                                        <IonRow>\n                                            <IonCol>\n                                                <IonButton\n                                                    expand=\"full\"\n                                                    color=\"primary\"\n                                                    fill=\"clear\"\n                                                    onClick={() => showAddImage ? fileInputRef.current.click() : setShowAddImage(true)}><IonIcon slot=\"start\" icon={addIcon} />\n                                                Add Image</IonButton>\n                                            </IonCol>\n                                            <IonCol>\n                                                <IonButton\n                                                    disabled={!isNewAssetValid}\n                                                    expand=\"full\"\n                                                    color=\"primary\"\n                                                    fill=\"clear\"\n                                                    onClick={handleSaveAsset}><IonIcon slot=\"start\" icon={saveIcon} />\n                                                Save Image</IonButton></IonCol>\n                                            <IonCol>\n                                                <IonButton\n                                                    expand=\"block\"\n                                                    color=\"danger\"\n                                                    fill=\"clear\"\n                                                    onClick={handleAddAssetCancel}><IonIcon slot=\"start\" icon={closeIcon} />\n                                                Cancel</IonButton></IonCol>\n                                        </IonRow>\n                                    </IonGrid>\n                                </IonCard>\n                            </IonCol>\n                        </IonRow>\n                        <IonRow class=\"ion-justify-content-center\">\n                            {\n                                assets?.images.map((item) =>\n                                    <IonCol key={item.fullPath} size=\"auto\">\n                                        <IonCard>\n                                            <IonCardHeader>\n                                                <IonThumbnail slot=\"start\">\n                                                    <IonImg src={item.downloadUrl} alt={item.name} />\n                                                </IonThumbnail>\n                                                <IonCardSubtitle>{`${item.name}`}</IonCardSubtitle>\n                                            </IonCardHeader>\n                                            <IonCardContent class='ion-padding'>\n                                                <IonImg src={item.downloadUrl} alt={item.name} />\n                                            </IonCardContent>\n                                            <IonButton\n                                                color=\"danger\"\n                                                expand=\"block\"\n                                                fill=\"clear\"\n                                                onClick={() => handleDeleteAsset(item)}\n                                            ><IonIcon slot=\"icon-only\" icon={removeIcon} /></IonButton>\n                                        </IonCard>\n                                    </IonCol>\n                                )}\n                        </IonRow>\n                    </IonGrid>\n                </IonContent>\n            </IonModal>\n\n\n            {/* Update Media Library Modal */}\n            <IonModal\n                isOpen={showMediaUpdateModal}\n                onDidDismiss={() => setShowMediaUpdateModal(false)}\n            >\n                <IonToolbar>\n                    <IonButton\n                        slot=\"end\"\n                        color=\"primary\"\n                        fill=\"clear\"\n                        onClick={() => setShowMediaUpdateModal(false)}>\n                        <IonIcon slot=\"icon-only\" icon={closeIcon} /></IonButton>\n                    <IonTitle>Media Library</IonTitle>\n                </IonToolbar>\n\n                <IonContent className=\"ion-padding\">\n                    <IonItemGroup>\n                        <IonItem button onClick={() => fileInputRef.current.click()}>\n                            <IonLabel color=\"primary\">Add Media</IonLabel>\n                            <input hidden type='file' accept=\".pdf, video/*\"\n                                ref={fileInputRef}\n                                onChange={handleFileChange} />\n                            <IonIcon slot=\"start\" color=\"primary\" icon={addIcon} />\n                        </IonItem>\n\n                        {!showAddMedia ? null :\n                            <IonCard class='ion-padding'>\n\n                                {/* Media Type*/}\n                                <IonCardSubtitle class=\"ion-padding-top\">Media Type</IonCardSubtitle>\n                                <IonGrid>\n                                    <IonRow class=\"ion-align-items-center\">\n                                        <IonCol>\n                                            <IonButton\n                                                expand=\"block\"\n                                                color=\"secondary\"\n                                                fill={newAsset?.type === 'document' ? 'solid' : \"outline\"}\n                                                onClick={() => setNewAsset({ ...newAsset, type: 'document' })}>\n                                                Document</IonButton>\n                                        </IonCol>\n\n                                        <IonCol>\n                                            <IonButton\n                                                expand=\"block\"\n                                                color=\"secondary\"\n                                                fill={newAsset?.type === 'video' ? 'solid' : \"outline\"}\n                                                onClick={() => setNewAsset({ ...newAsset, type: 'video' })}>\n                                                Video</IonButton>\n                                        </IonCol>\n                                    </IonRow>\n                                </IonGrid>\n\n                                {/* Media Title */}\n                                <IonCardSubtitle class=\"ion-padding-top\">Title</IonCardSubtitle>\n                                <IonItem>\n                                    <IonInput type=\"text\"\n                                        value={newAsset?.name}\n                                        placeholder='Add a Title'\n                                        onIonChange={(event) => setNewAsset({ ...newAsset, name: event.detail.value })}\n                                    />\n                                </IonItem>\n\n                                <IonButton\n                                    class=\"ion-padding\"\n                                    disabled={!isNewAssetValid}\n                                    fill={!isNewAssetValid ? \"outline\" : \"solid\"}\n                                    expand=\"block\"\n                                    color=\"primary\"\n                                    onClick={handleSaveAsset}><IonIcon slot=\"start\" icon={saveIcon} />\n                                    Save</IonButton>\n                                {/* </IonItem> */}\n\n                                <IonButton\n                                    class=\"ion-padding\"\n                                    fill=\"clear\"\n                                    expand=\"block\"\n                                    color=\"danger\"\n                                    onClick={handleAddAssetCancel}><IonIcon slot=\"start\" icon={closeIcon} />Cancel</IonButton>\n\n                                {/* </IonList> */}\n                            </IonCard>\n                        }\n                    </IonItemGroup>\n                    <IonList>\n                        {\n                            assets?.media.map((item) =>\n                                // console.log('Do I have media? ', item)\n                                <IonItem key={item.fullPath}>\n                                    <IonButton\n                                        slot=\"end\"\n                                        color=\"danger\"\n                                        fill=\"clear\"\n                                        onClick={() => handleDeleteAsset(item)}>\n                                        <IonIcon slot=\"end\" icon={removeIcon} /></IonButton>\n                                    <IonLabel>{item?.name}</IonLabel>\n                                    <IonIcon icon={item.type === 'video' ? videoIcon : documentIcon} color=\"medium\" slot=\"start\" />\n                                </IonItem>\n                            )\n                        }\n                    </IonList>\n                </IonContent>\n            </IonModal>\n\n            <IonHeader>\n                <IonToolbar>\n                    <IonTitle>Email Editor</IonTitle>\n                    <IonButtons slot=\"start\">\n                        <IonBackButton defaultHref=\"/v1/settings\" />\n                    </IonButtons>\n                </IonToolbar>\n            </IonHeader>\n            <IonContent className=\"ion-padding\">\n\n                <IonGrid fixed>\n                    <IonRow>\n                        <IonCol>\n                            <IonItem onClick={() => setShowHelpText(!showHelpText)}>\n                                <IonIcon slot=\"start\" icon={helpIcon} color=\"warning\"></IonIcon>\n                                <IonLabel>How to use the Email Editor</IonLabel>\n                            </IonItem>\n                        </IonCol>\n                    </IonRow>\n\n                    {showHelpText\n                        ?\n                        <IonRow>\n                            <IonCol>\n                                <IonItemGroup>\n                                    {/* <IonItems onClick={() => setShowHelpText(!setShowHelpText)} > */}\n                                    <IonItem onClick={() => setShowHelpText(!showHelpText)}>\n                                        <IonNote class=\"ion-padding-start\">\n                                            <p>The primary function of this page to write the emails that will be sent to your Clients.</p>\n                                            <p>Your emails can be personalised by <b>inserting custom fields</b> into the email template via the <b>Toolbar</b></p>\n                                            <p>There are <b>4</b> types of Custom Field</p>\n                                        </IonNote>\n                                    </IonItem>\n\n                                    {/* Image Info */}\n                                    <IonItem button onClick={() => setShowImageInfo(!showImageInfo)}>\n                                        <IonLabel>Images</IonLabel>\n                                    </IonItem>\n                                    {showImageInfo ?\n                                        <IonItem onClick={() => setShowImageInfo(!showImageInfo)}>\n                                            <IonNote class=\"ion-padding-start\">\n                                                <p>You can update your Image Library by clicking <b>Update Library</b> in the <b>Toolbar</b></p>\n                                                <p>To <b>upload</b> any images you want to have in your emails</p>\n                                                <ul>\n                                                    <li><p>Click <b>Update Image Library</b></p></li>\n                                                    <li><p>Click <b>Add Image</b></p></li>\n                                                    <li><p>Select a <em>.jpg</em> or <em>.png</em> file</p></li>\n                                                    <li><p>Give it a <b>Title</b></p></li>\n                                                    <li><p>and, click <b>Add Image</b></p></li>\n                                                </ul>\n                                                <hr />\n                                                <p>The image will now be in your <em>Custom Fields</em> with the <b>Image Title</b> from the previous step.</p>\n                                                <p>To <b>add</b> images to your email template.</p>\n                                                <ul>\n                                                    <li><p>Click <b>Insert Custom Field</b></p></li>\n                                                    <li><p>Navigate to <b>Insert Image</b></p></li>\n                                                    <li><p>and, select the <b>Image Title</b> from the menu options.</p></li>\n                                                </ul>\n                                                <hr />\n                                                <p>To <b>update</b> images to your <em>Image Library</em> simply follow follow the same process as uploading.</p>\n                                                <p>Just give the image the <b>Same Title</b> and this will update the image.</p>\n                                                <hr />\n                                                <p>To <b>delete</b> images from your <em>Image Library</em> simply click the <b>Red Bin</b> icon on the image card.</p>\n\n\n                                            </IonNote>\n                                        </IonItem>\n                                        : null}\n\n                                    {/* Media Info */}\n                                    <IonItem button onClick={() => setShowMediaInfo(!showMediaInfo)}>\n                                        <IonLabel>Media</IonLabel>\n                                    </IonItem>\n                                    {showMediaInfo ?\n                                        <IonItem onClick={() => setShowMediaInfo(!showMediaInfo)}>\n                                            <IonNote class=\"ion-padding-start\">\n                                                <p>Media is a <em>.pdf</em> or a <em>video</em> file</p>\n                                                <p>Media items is inserted into the email template by a link.</p>\n                                                <p>When the receiver of the email clicks the link they will be able to view the media item.</p>\n                                                <p>You can update your Media Library by clicking <b>Update Library</b> in the <b>Toolbar</b></p>\n                                                <ul>\n                                                    <li><p>Click <b>Update Media Library</b></p></li>\n                                                    <li><p>Click <b>Add Media</b></p></li>\n                                                    <li><p>Select a <em>.jpg</em> or <em>.png</em> file</p></li>\n                                                    <li><p>Give it a <b>Title</b></p></li>\n                                                    <li><p>Select <b>Document</b> for pdf's</p></li>\n                                                    <li><p>Select <b>Video</b> for video's</p></li>\n                                                    <li><p>and, click <b>Save</b></p></li>\n                                                </ul>\n                                                <hr />\n                                                <p>The media item will now be in your <em>Custom Fields</em> with the <b>Title</b> from the previous step.</p>\n                                                <p>To <b>add</b> media items to your email template.</p>\n                                                <ul>\n                                                    <li><p>Click <b>Insert Custom Field</b></p></li>\n                                                    <li><p>Navigate to <b>Insert Media</b></p></li>\n                                                    <li><p>and, select the <b>Title</b> from the menu options.</p></li>\n                                                </ul>\n                                                <hr />\n                                                <p>To <b>update</b> media items to your <em>Media Library</em> simply follow follow the same process as uploading.</p>\n                                                <p>Just give the image the <b>Same Title</b> and this will update the image.</p>\n                                                <hr />\n                                                <p>To <b>delete</b> media items from your <em>Media Library</em> simply click the <b>Red Bin</b> icon.</p>\n                                            </IonNote>\n                                        </IonItem>\n                                        : null}\n\n                                    {/* Text Fields Info */}\n                                    <IonItem button onClick={() => setShowTextFieldInfo(!showTextFieldInfo)}>\n                                        <IonLabel>Text</IonLabel>\n                                    </IonItem>\n                                    {showTextFieldInfo ?\n                                        <IonItem onClick={() => setShowTextFieldInfo(!showTextFieldInfo)}>\n                                            <IonNote class=\"ion-padding-start\">\n                                                <p>Emails can be personalised by inserting <em>Text Fields</em>.</p>\n                                                <p>A Text Field will add the field value relevent to the context when the email is sent.</p>\n                                                <p>By inserting, for example, <b>First Name</b> into the template the <em>Clients First Name</em> will populate the <em>Text Field</em>.</p>\n                                                <hr />\n                                                <p>To <b>add</b> text field to your email template.</p>\n                                                <ul>\n                                                    <li><p>Click <b>Insert Custom Field</b></p></li>\n                                                    <li><p>Navigate to <b>Insert Text Field</b></p></li>\n                                                    <li><p>and, select the from the menu options.</p></li>\n                                                </ul>\n                                                <hr />\n                                                <p><u>Note</u>: the text field will look like <b>{`\\${Text Filed Name}`}</b> the email editor.</p>\n                                                <p>This is the key for the field to be added into the email. If the syntax is tampered with it will create errors in the email template.</p>\n                                                <hr />\n                                                <p><u>Note</u>: the text fields can be styled.</p>\n                                                <p>That is to say, A text field can be made bold, italic, coloured or any other style can be applied.</p>\n                                            </IonNote>\n                                        </IonItem>\n                                        : null}\n\n                                    {/* Dispute Link Info */}\n                                    <IonItem button onClick={() => setShowDisputeInfo(!showDisputeInfo)}>\n                                        <IonLabel>Dispute Link</IonLabel>\n                                    </IonItem>\n                                    {showDisputeInfo ?\n                                        <IonItem onClick={() => setShowDisputeInfo(!showDisputeInfo)}>\n                                            <IonNote class=\"ion-padding-start\">\n                                                {/* <p><b>Dispute Link</b></p> */}\n                                                <p>The <em>Dispute Link</em> will open a form so that the <em>Client</em> can request a pardon.</p>\n                                                <p>When a <b>Refund Request</b> is submitted it will show on the <b>Home Page</b>.</p>\n                                                <p>If the request is <b>approved</b> the <em>Client</em> <b>will not be Charged</b></p>\n                                                <p>If <b>denied</b>, the charge will be applied.</p>\n                                                <hr />\n                                                <p><u>Note</u>: if the request <b>is</b> approved <b>after</b> the Charge has been applied.</p>\n                                                <p>A Refund will show on the <b>Home Page</b>.</p>\n                                            </IonNote>\n                                        </IonItem>\n                                        : null}\n                                </IonItemGroup>\n                            </IonCol>\n                        </IonRow>\n                        : null}\n\n                    <IonRow>\n                        <IonCol>\n                            {/* Information Help Bar */}\n                            <IonList>\n                                <IonItem onClick={() => setShowInformationText(!showInformationText)}>\n                                    <IonIcon slot=\"start\" icon={infoIcon} color=\"primary\"></IonIcon>\n                                    <IonLabel\n                                        color=\"primary\"\n                                        class=\"ion-text-capitalize\">\n                                        <strong>{`${idName}`}</strong>\n                                    </IonLabel>\n                                </IonItem>\n\n                                {/* pre_launch_email */}\n                                {showInformationText && id === 'pre_launch_warning_email'\n                                    ?\n                                    <IonItem onClick={() => setShowInformationText(!showInformationText)}>\n                                        <IonNote class=\"ion-padding-start\">\n                                            <p>This email is <b>sent when</b>:</p>\n                                            <p>Pre-Launch Mode <b>is <u>on</u></b></p>\n                                            <p><b>and</b> a No Show or Late Cancel <b>has</b> occurred</p>\n                                        </IonNote>\n                                    </IonItem>\n                                    : null}\n\n                                {/* late_cancel_warning */}\n                                {showInformationText && id === 'late_cancel_warning_email'\n                                    ?\n                                    <IonItem onClick={() => setShowInformationText(!showInformationText)}>\n                                        <IonNote class=\"ion-padding-start\">\n                                            <p>This email is <b>sent when</b>:</p>\n                                            <p>Pre-Launch Mode <b>is <u>off</u></b></p>\n                                            <p><b>and</b> a Late Cancel <b>has</b> occurred</p>\n                                            <p><b>and</b> the Late Cancel <b>has been Forgiven</b></p>\n                                        </IonNote>\n                                    </IonItem>\n                                    : null}\n\n                                {/* late_cancel_charge */}\n                                {showInformationText && id === 'late_cancel_charge_email'\n                                    ?\n                                    <IonItem onClick={() => setShowInformationText(!showInformationText)}>\n                                        <IonNote class=\"ion-padding-start\">\n                                            <p>This email is <b>sent when</b>:</p>\n                                            <p>Pre-Launch Mode <b>is <u>off</u></b></p>\n                                            <p><b>and</b> a Late Cancel <b>has</b> occurred</p>\n                                            <p><b>and</b> a Charge <b>is Pending</b></p>\n                                        </IonNote>\n                                    </IonItem>\n                                    : null}\n\n                                {/* no_show_warning */}\n                                {showInformationText && id === 'no_show_warning_email'\n                                    ?\n                                    <IonItem onClick={() => setShowInformationText(!showInformationText)}>\n                                        <IonNote class=\"ion-padding-start\">\n                                            <p>This email is <b>sent when</b>:</p>\n                                            <p>Pre-Launch <b>is <u>off</u></b></p>\n                                            <p><b>and</b> a No Show <b>has occurred</b></p>\n                                            <p><b>and</b> the No Show <b>has been Forgiven</b></p>\n                                        </IonNote>\n                                    </IonItem>\n                                    : null}\n\n                                {/* no_show_charge */}\n                                {showInformationText && id === 'no_show_charge_email'\n                                    ?\n                                    <IonItem onClick={() => setShowInformationText(!showInformationText)}>\n                                        <IonNote class=\"ion-padding-start\">\n                                            <p>This email is <b>sent when</b>:</p>\n                                            <p>Pre-Launch Mode <b>is <u>off</u></b></p>\n                                            <p><b>and</b> a No Show <b>has</b> occurred</p>\n                                            <p><b>and</b> a Charge <b>is Pending</b></p>\n                                        </IonNote>\n                                    </IonItem>\n                                    : null}\n                            </IonList>\n\n                            {/* Email Text Editor */}\n                            {status.loading ? null :\n                                <Editor\n                                    initialValue={communicationItem?.body}\n                                    apiKey=\"w5nw91hdtraf1ogrw57lt7mv9t4q5mj0x9y5b6zfos9bgtpa\"\n                                    init={{\n                                        height: 500,\n                                        plugins: [\n                                            'advlist autolink lists link image',\n                                            'charmap print preview anchor help',\n                                            'searchreplace visualblocks code',\n                                            'insertdatetime media table paste wordcount'\n                                        ],\n                                        toolbar:\n                                            'image | undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist outdent indent | forecolor backcolor | table | table tabledelete | tableprops tablerowprops tablecellprops | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol | code | help',\n\n                                        menubar: 'custom | other',\n                                        menu: {\n                                            custom: { title: 'Insert Custom Field', items: 'resetTemplate insertImage insertMedia insertDynamicField insertDisputeLink' },\n                                            other: { title: 'Update Library', items: 'updateImageLibrary updateMediaLibrary' }\n                                        },\n\n                                        setup: (editor) => {\n                                            editor.ui.registry.addMenuItem('resetTemplate', {\n                                                text: 'Reset to Template',\n                                                onAction: function () {\n                                                    // console.log('resetTemplate')\n                                                    setCommunicationItem({ ...communicationItem, body: initEmail })\n                                                }\n                                            });\n                                            editor.ui.registry.addMenuItem('updateImageLibrary', {\n                                                text: 'Update Image Library',\n                                                onAction: function () {\n                                                    // console.log('updateImageLibrary')\n                                                    setShowImageUpdateModal(true)\n                                                }\n                                            });\n                                            editor.ui.registry.addMenuItem('updateMediaLibrary', {\n                                                text: 'Update Media Library',\n                                                onAction: function () {\n                                                    // console.log('updateMediaLibrary')\n                                                    setShowMediaUpdateModal(true)\n                                                }\n                                            });\n                                            editor.ui.registry.addMenuItem('insertDisputeLink', {\n                                                text: 'Dispute Link',\n                                                onAction: function () {\n                                                    editor.insertContent(` <a href='\\${dispute_link_url}'>dispute text</a> `);\n                                                }\n                                            });\n                                            editor.ui.registry.addNestedMenuItem('insertImage', {\n                                                text: 'Insert Image',\n                                                getSubmenuItems: function () {\n                                                    let items = []\n                                                    assets?.images.map((a) => {\n                                                        return items.push({\n                                                            type: 'menuitem',\n                                                            text: a.name,\n                                                            onAction: function () {\n                                                                editor.insertContent(`<img src='${a.downloadUrl}' alt='${a.name}' />`);\n                                                            }\n                                                        })\n                                                    })\n                                                    return items\n                                                }\n                                            });\n                                            editor.ui.registry.addNestedMenuItem('insertMedia', {\n                                                text: 'Insert Media',\n                                                getSubmenuItems: function () {\n                                                    let items = []\n                                                    assets?.media.map((a) => {\n                                                        return items.push({\n                                                            type: 'menuitem',\n                                                            text: a.name,\n                                                            onAction: function () {\n                                                                editor.insertContent(` <a href='${a.downloadUrl}'>link text</a> `);\n                                                            }\n                                                        })\n                                                    })\n                                                    // console.log(items)\n                                                    return items\n                                                }\n                                            });\n                                            editor.ui.registry.addNestedMenuItem('insertDynamicField', {\n                                                text: 'Insert Text Field',\n                                                getSubmenuItems: function () {\n                                                    return [\n                                                        // First Name\n                                                        {\n                                                            type: 'menuitem',\n                                                            text: 'First Name',\n                                                            onAction: function () {\n                                                                editor.insertContent(`\\${First Name}`);\n                                                            }\n                                                        },\n                                                        // Last Name\n                                                        {\n                                                            type: 'menuitem',\n                                                            text: 'Last Name',\n                                                            onAction: function () {\n                                                                editor.insertContent(`\\${Last Name}`);\n                                                            }\n                                                        },\n                                                        // Charge\n                                                        {\n                                                            type: 'menuitem',\n                                                            text: 'Charge Type',\n                                                            onAction: function () {\n                                                                editor.insertContent(`\\${Charge Type}`);\n                                                            }\n                                                        },\n                                                        {\n                                                            type: 'menuitem',\n                                                            text: 'Charge Status',\n                                                            onAction: function () {\n                                                                editor.insertContent(`\\${Charge Status}`);\n                                                            }\n                                                        },\n                                                        {\n                                                            type: 'menuitem',\n                                                            text: 'Charge Billing Date',\n                                                            onAction: function () {\n                                                                editor.insertContent(`\\${Charge Billing Date}`);\n                                                            }\n                                                        },\n                                                        // Class\n                                                        {\n                                                            type: 'menuitem',\n                                                            text: 'Class Day',\n                                                            onAction: function () {\n                                                                editor.insertContent(`\\${Class Day}`);\n                                                            }\n                                                        },\n                                                        {\n                                                            type: 'menuitem',\n                                                            text: 'Class Instructor',\n                                                            onAction: function () {\n                                                                editor.insertContent(`\\${Class Instructor}`);\n                                                            }\n                                                        },\n                                                        {\n                                                            type: 'menuitem',\n                                                            text: 'Class Location',\n                                                            onAction: function () {\n                                                                editor.insertContent(`\\${Class Location}`);\n                                                            }\n                                                        },\n                                                        {\n                                                            type: 'menuitem',\n                                                            text: 'Class Name',\n                                                            onAction: function () {\n                                                                editor.insertContent(`\\${Class Name}`);\n                                                            }\n                                                        },\n                                                        {\n                                                            type: 'menuitem',\n                                                            text: 'Class Time',\n                                                            onAction: function () {\n                                                                editor.insertContent(`\\${Class Time}`);\n                                                            }\n                                                        },\n                                                        // Location\n                                                        {\n                                                            type: 'menuitem',\n                                                            text: 'Location Manager',\n                                                            onAction: function () {\n                                                                editor.insertContent(`\\${Location Manager}`);\n                                                            }\n                                                        },\n                                                        {\n                                                            type: 'menuitem',\n                                                            text: 'Location Email',\n                                                            onAction: function () {\n                                                                editor.insertContent(`\\${Location Email}`);\n                                                            }\n                                                        },\n                                                        {\n                                                            type: 'menuitem',\n                                                            text: 'Location Phone',\n                                                            onAction: function () {\n                                                                editor.insertContent(`\\${Location Phone}`);\n                                                            }\n                                                        },\n                                                    ];\n                                                }\n                                            });\n                                        }\n                                    }}\n                                    outputFormat='html'\n                                    value={communicationItem?.body}\n                                    onEditorChange={handleEditorChange}\n                                />\n                            }\n                        </IonCol>\n                    </IonRow>\n                </IonGrid>\n            </IonContent>\n        </IonApp>\n    );\n};\n\nexport default EmailEditorPage;","export interface CommunicationItem {\n    id: string;\n    type: string;\n    method: string;\n    body: string\n}\n\nexport function toCommunicationItem(doc): CommunicationItem {\n    return { id: doc.id, ...doc.data() };\n}","export interface Asset {\n    fullPath: string;\n    type: string;\n    downloadUrl: string;\n    name: string;\n}\n\nexport interface Assets {\n    id: string;\n    images: Asset[];\n    media: Asset[]\n}\n\nexport function toAssets(doc): Assets {\n    // console.log('toAsset: ', doc.data())\n    return { id: doc.id, ...doc.data() };\n}\n\nexport function toAsset(doc): Asset {\n    return { id: doc.id, ...doc.data() };\n}","import {\n  IonRouterOutlet, IonTabs, IonTabBar, IonTabButton, IonLabel, IonIcon\n} from '@ionic/react';\nimport { home as homeIcon, settings as settingsIcon, analyticsSharp as reportIcon } from 'ionicons/icons';\nimport React from 'react';\nimport { Route, Redirect } from 'react-router';\nimport { useAuth } from './auth';\nimport HomePage from './pages/HomePage';\nimport SettingsPage from './pages/SettingsPage';\nimport EntryPage from './pages/EntryPage';\nimport AddEntryPage from './pages/AddEntryPage';\nimport ReportPage from './pages/ReportPage';\nimport EmailEditorPage from './pages/EmailEditorPage';\n\n\nconst AppTabs: React.FC = () => {\n\n  const { loggedIn } = useAuth();\n  // console.log(`[AppTabs] loggedIn = ${loggedIn}`)\n\n  \n  if (!loggedIn) {\n    return <Redirect to=\"/login\" />\n  }\n\n  return (\n    <IonTabs>\n        <IonRouterOutlet>\n\n          {/* Entries */}\n          <Route exact path=\"/v1/entries\">\n            <HomePage />\n          </Route>\n          <Route exact path=\"/v1/entries/view/:id\">\n            <EntryPage />\n          </Route>\n          <Route exact path=\"/v1/entries/add\">\n            <AddEntryPage />\n          </Route>\n\n          {/* Settings */}\n          <Route exact path=\"/v1/settings\">\n            <SettingsPage />\n          </Route>\n          <Route exact path=\"/v1/settings/comms/:id\">\n            <EmailEditorPage />\n          </Route>\n\n          {/* Reports */}\n          <Route exact path=\"/v1/reports\">\n            <ReportPage />\n          </Route>\n          <Route exact path=\"/v1/reports/:type/:id\">\n            <ReportPage />\n          </Route>\n\n          {/* Catch */}\n          <Redirect exact path=\"/\" to=\"/v1/entries\" />\n        </IonRouterOutlet>\n        <IonTabBar slot=\"bottom\">\n          <IonTabButton tab=\"home\" href=\"/v1/entries\">\n            <IonIcon icon={homeIcon} />\n            <IonLabel>Home</IonLabel>\n          </IonTabButton>\n          <IonTabButton tab=\"reports\" href=\"/v1/reports/location/0\">\n            <IonIcon icon={reportIcon} />\n            <IonLabel>Report</IonLabel>\n          </IonTabButton>\n          <IonTabButton tab=\"settings\" href=\"/v1/settings\">\n            <IonIcon icon={settingsIcon} />\n            <IonLabel>Settings</IonLabel>\n          </IonTabButton>\n        </IonTabBar>\n    </IonTabs>\n  );\n};\n\nexport default AppTabs;\n","import {\n  IonApp,\n  IonContent,\n} from '@ionic/react';\nimport React from 'react';\n\nconst NotFoundPage: React.FC = () => {\n  return (\n    <IonApp>\n      <IonContent className=\"ion-padding\">\n        Page Not Found\n      </IonContent>\n    </IonApp>\n  );\n};\n\nexport default NotFoundPage;\n","import {\n  IonApp, IonLoading\n} from '@ionic/react';\nimport { IonReactRouter } from '@ionic/react-router';\nimport React from 'react';\nimport { Route, Redirect, Switch } from 'react-router';\nimport { AuthContext, useAuthInit } from './auth';\nimport LoginPage from './pages/LoginPage';\nimport AppTabs from './AppTabs';\nimport NotFoundPage from './pages/404Page';\n\nconst App: React.FC = () => {\n  const { loading, auth } = useAuthInit();\n\n  if (loading) {\n    return <IonLoading isOpen />\n  }\n\n  // console.log(`Rendering app with authState=${JSON.stringify(auth)}`)\n\n  return (\n    <IonApp>\n      <AuthContext.Provider value={ auth }>\n        <IonReactRouter>\n          <Switch>\n            <Route exact path=\"/login\">\n              <LoginPage/>\n            </Route>\n            <Route path=\"/v1\">\n              <AppTabs />\n            </Route>\n            <Redirect exact path=\"/\" to=\"/v1/entries\" />\n            <Route>\n              <NotFoundPage />\n            </Route>\n          </Switch>\n        </IonReactRouter>\n      </AuthContext.Provider>\n    </IonApp>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Plugins } from '@capacitor/core';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n\n/* Theme variables */\nimport './theme/variables.css';\n\nconst { SplashScreen } = Plugins;\nReactDOM.render(<App />, document.getElementById('root'));\nSplashScreen.hide();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}